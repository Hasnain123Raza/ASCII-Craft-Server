(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(23),i=n.n(c),s=n(66);var u=n(4),o=function(e){return e.authenticated},l=function(e){return o(e).isAuthenticated},d=function(e){return o(e).user},j=function(e){var t;return null===(t=d(e))||void 0===t?void 0:t._id},f=function(e){var t;return null===(t=d(e))||void 0===t?void 0:t.username},b=function(e){var t;return null===(t=d(e))||void 0===t?void 0:t.email},p=function(e){var t;return null===(t=d(e))||void 0===t?void 0:t.rank},h=n(115),x=n(112),O=n(114),g=n(20),m=n(1);function v(){var e=Object(u.c)(l),t=Object(u.c)(j);return Object(m.jsxs)(h.a,{style:{flex:1},children:[Object(m.jsx)(h.a.Link,{children:"Home"}),Object(m.jsx)(g.LinkContainer,{to:"/art/browse",children:Object(m.jsx)(h.a.Link,{children:"Browse"})}),Object(m.jsx)(g.LinkContainer,{to:"/art/create",children:Object(m.jsx)(h.a.Link,{children:"Create"})}),e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.LinkContainer,{to:"/account/profile/".concat(t),children:Object(m.jsx)(h.a.Link,{children:"Profile"})}),Object(m.jsx)(g.LinkContainer,{to:"/account/dashboard",children:Object(m.jsx)(h.a.Link,{className:"ml-auto",children:"Account"})})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.LinkContainer,{to:"/authentication/login",children:Object(m.jsx)(h.a.Link,{className:"ml-auto",children:"Login"})}),Object(m.jsx)(g.LinkContainer,{to:"/authentication/register",children:Object(m.jsx)(h.a.Link,{children:"Register"})})]})]})}function C(){var e=Object(u.c)(l),t=Object(u.c)(j);return Object(m.jsx)(h.a,{className:"ml-auto",children:Object(m.jsxs)(x.a,{title:"Menu",children:[Object(m.jsx)(x.a.Item,{children:"Home"}),Object(m.jsx)(g.LinkContainer,{to:"/art/browse",children:Object(m.jsx)(x.a.Item,{children:"Browse"})}),Object(m.jsx)(g.LinkContainer,{to:"/art/create",children:Object(m.jsx)(x.a.Item,{children:"Create"})}),Object(m.jsx)(x.a.Divider,{}),e?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.LinkContainer,{to:"/account/profile/".concat(t),children:Object(m.jsx)(x.a.Item,{children:"Profile"})}),Object(m.jsx)(g.LinkContainer,{to:"/account/dashboard",children:Object(m.jsx)(x.a.Item,{children:"Account"})})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(g.LinkContainer,{to:"/authentication/login",children:Object(m.jsx)(x.a.Item,{children:"Login"})}),Object(m.jsx)(g.LinkContainer,{to:"/authentication/register",children:Object(m.jsx)(x.a.Item,{children:"Register"})})]})]})})}function y(){var e=function(){var e=Object(r.useState)({width:void 0,height:void 0}),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}().width;return Object(m.jsx)("div",{className:"header pbc",children:Object(m.jsxs)(O.a,{variant:"dark",children:[Object(m.jsx)(O.a.Brand,{children:"ASCII-CRAFT"}),e>576?Object(m.jsx)(v,{}):Object(m.jsx)(C,{})]})})}var k=n(6),R=n.n(k),q=n(9),S=n(10),w=function(e){return e.loader},L=function(e){return w(e).loadResourcesRequestStatus};function A(){return N.apply(this,arguments)}function N(){return(N=Object(q.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/authenticated");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=Object(S.b)("authenticated/getAuthenticated",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,A();case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.payload);case 8:return e.abrupt("return",r());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),E=Object(S.c)({name:"authenticated",initialState:{isAuthenticated:!1,user:null,getAuthenticatedRequestStatus:"idle"},reducers:{resetAuthentication:function(e,t){e.isAuthenticated=!1,e.user=null}},extraReducers:function(e){e.addCase(P.pending,(function(e,t){e.getAuthenticatedRequestStatus="pending"})).addCase(P.rejected,(function(e,t){e.getAuthenticatedRequestStatus="rejected"})).addCase(P.fulfilled,(function(e,t){e.getAuthenticatedRequestStatus="fulfilled";var n=t.payload,r=n.authenticated,a=n.user;e.isAuthenticated=r,e.user=a}))}}),I=E.actions.resetAuthentication,T=E.reducer,V=Object(S.b)("loader/loadResources",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,a=n.dispatch,c=n.rejectWithValue,t=r(),w(t).hasLoaded){e.next=7;break}return e.next=4,Promise.all([a(P())]);case 4:if(!e.sent.some((function(e){return Boolean(e.error)}))){e.next=7;break}return e.abrupt("return",c());case 7:case"end":return e.stop()}var t}),e)})));return function(t,n){return e.apply(this,arguments)}}()),U=Object(S.c)({name:"loader",initialState:{hasLoaded:!1,loadResourcesRequestStatus:"idle"},reducers:{setHasLoaded:function(e,t){e.hasLoaded=t.payload}},extraReducers:function(e){e.addCase(V.pending,(function(e,t){e.loadResourcesRequestStatus="pending"})).addCase(V.rejected,(function(e,t){e.loadResourcesRequestStatus="rejected"})).addCase(V.fulfilled,(function(e,t){e.loadResourcesRequestStatus="fulfilled"}))}}).reducer,B=n(12),D=n(110);function F(e){var t=e.initiateLoadingRequest,n=e.loadingRequestStatus,r=e.idleComponent,a=e.pendingComponent,c=e.rejectedComponent,i=e.fulfilledComponent;return"idle"===n?Object(m.jsx)(r,{initiateLoadingRequest:t}):"pending"===n?Object(m.jsx)(a,{}):"rejected"===n?Object(m.jsx)(c,{initiateLoadingRequest:t}):"fulfilled"===n?Object(m.jsx)(i,{}):"Default"}var W=n(117),G=n(64);function z(){return Object(m.jsx)(W.a,{children:Object(m.jsxs)(W.a.Body,{children:[Object(m.jsx)("h5",{children:"Please Wait"}),Object(m.jsx)("hr",{}),"We are loading some resources",Object(m.jsx)("br",{}),Object(m.jsx)(G.a,{className:"w-100 mt-3",variant:"secondary",disabled:!0,children:"Loading..."})]})})}function H(e){var t=e.initiateLoadingRequest;return Object(m.jsx)(W.a,{children:Object(m.jsxs)(W.a.Body,{children:[Object(m.jsx)("h5",{children:"Uh Oh"}),Object(m.jsx)("hr",{}),"We were unable to load some resources",Object(m.jsx)("br",{}),Object(m.jsx)(G.a,{className:"w-100 mt-3",variant:"danger",onClick:t,children:"Retry"})]})})}function J(e){var t=e.initiateLoadingRequest,n=e.loadingRequestStatus,r=e.fulfilledComponent;return Object(m.jsx)(F,{initiateLoadingRequest:t,loadingRequestStatus:n,idleComponent:z,pendingComponent:z,rejectedComponent:H,fulfilledComponent:r})}var M=n(13),_=n(67);function Q(){return new URLSearchParams(Object(B.l)().search)}function Y(e){var t=e.children,n=Object(_.a)(e,["children"]),r=Object(B.l)(),a=Q();a.set("redirect",r.pathname);var c=Object(u.c)(l);return Object(m.jsx)(B.d,Object(M.a)(Object(M.a)({},n),{},{children:c?t:Object(m.jsx)(B.c,{exact:!0,to:"/authentication/login?"+a.toString()})}))}function Z(){return K.apply(this,arguments)}function K(){return(K=Object(q.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/logout");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function X(){return $.apply(this,arguments)}function $(){return($=Object(q.a)(R.a.mark((function e(){var t,n;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/emailVerification");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=Object(S.b)("dashboard/getEmailVerification",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.rejectWithValue,e.next=3,X();case 3:if(!(c=e.sent).success){e.next=9;break}return r(se()),e.abrupt("return",!0);case 9:c.error&&r(ie([c.error])),a();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),te=Object(S.b)("dashboard/getLogout",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.rejectWithValue,e.next=3,Z();case 3:if(!e.sent.success){e.next=9;break}return r(I()),e.abrupt("return",!0);case 9:a();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ne={getEmailVerificationRequestStatus:"idle",getLogoutRequestStatus:"idle",errors:[]},re=Object(S.c)({name:"dashboard",initialState:ne,reducers:{reset:function(e,t){return Object(M.a)({},ne)},setErrors:function(e,t){e.errors=t.payload},resetErrors:function(e,t){e.errors=[]}},extraReducers:function(e){e.addCase(ee.pending,(function(e,t){e.getEmailVerificationRequestStatus="pending"})).addCase(ee.rejected,(function(e,t){e.getEmailVerificationRequestStatus="rejected"})).addCase(ee.fulfilled,(function(e,t){e.getEmailVerificationRequestStatus="fulfilled"})).addCase(te.pending,(function(e,t){e.getLogoutRequestStatus="pending"})).addCase(te.rejected,(function(e,t){e.getLogoutRequestStatus="rejected"})).addCase(te.fulfilled,(function(e,t){e.getLogoutRequestStatus="fulfilled"}))}}),ae=re.actions,ce=ae.reset,ie=ae.setErrors,se=ae.resetErrors,ue=re.reducer,oe=function(e){return e.account.dashboard},le=function(e){return oe(e).getEmailVerificationRequestStatus},de=function(e){return oe(e).getLogoutRequestStatus},je=function(e){var t;return null===(t=oe(e).errors.filter((function(e){var t=e.path;return 1===t.length&&"alert"===t[0]}))[0])||void 0===t?void 0:t.message},fe=n(116),be=n(109);function pe(e){var t=e.className,n=e.initiateLoadingRequest;return Object(m.jsx)(G.a,{className:t,onClick:n,variant:"success",children:"Send Email Verification"})}function he(e){var t=e.className,n=e.initiateLoadingRequest,r=e.loadingRequestStatus;return Object(m.jsx)(F,{initiateLoadingRequest:n,loadingRequestStatus:r,idleComponent:function(){return Object(m.jsx)(pe,{className:t,initiateLoadingRequest:n})},pendingComponent:function(){return Object(m.jsx)(G.a,{className:t,variant:"secondary",children:"Loading..."})},rejectedComponent:function(){return Object(m.jsx)(pe,{className:t,initiateLoadingRequest:n})},fulfilledComponent:function(){return Object(m.jsx)(pe,{className:t,initiateLoadingRequest:n})}})}function xe(e){var t=e.className,n=e.initiateLoadingRequest,r=e.text,a=e.variant;return Object(m.jsx)(G.a,{className:t,variant:a,onClick:n,children:r})}function Oe(e){var t=e.className;return Object(m.jsx)(G.a,{className:t,variant:"secondary",disabled:!0,children:"Loading..."})}function ge(e){var t=e.className,n=e.initiateLoadingRequest;return Object(m.jsx)(G.a,{className:t,variant:"danger",onClick:n,children:"Retry"})}function me(e){var t=e.className,n=e.initiateLoadingRequest,r=e.loadingRequestStatus,a=e.idleText,c=e.idleVariant,i=void 0===c?"success":c,s=e.redirectLink;return Object(m.jsx)(F,{initiateLoadingRequest:n,loadingRequestStatus:r,idleComponent:function(){return Object(m.jsx)(xe,{className:t,initiateLoadingRequest:n,text:a,variant:i})},pendingComponent:function(){return Object(m.jsx)(Oe,{className:t})},rejectedComponent:function(){return Object(m.jsx)(ge,{className:t,initiateLoadingRequest:n})},fulfilledComponent:function(){return Object(m.jsx)(B.c,{exact:!0,to:s})}})}function ve(){var e=Object(u.b)(),t=Object(u.c)(f),n=Object(u.c)(b),a=Object(u.c)(p),c=Object(u.c)(je),i=Object(u.c)(le),s=Object(u.c)(de);return Object(r.useEffect)((function(){return function(){return e(ce())}}),[]),Object(m.jsx)("div",{className:"account-dashboard d-flex flex-column",style:{flex:1},children:Object(m.jsxs)("div",{children:[Object(m.jsxs)("h2",{style:{textAlign:"center"},children:["Welcome ",t,"!"]}),Object(m.jsx)("hr",{}),Boolean(c)&&Object(m.jsx)(fe.a,{variant:"danger",children:c}),Object(m.jsx)("h6",{className:"d-inline",children:"Username: "})," ",t," ",Object(m.jsx)("br",{}),Object(m.jsx)("h6",{className:"d-inline",children:"Email: "}),n," ","unverified"===a&&Object(m.jsx)(be.a,{variant:"danger",children:"Not Verified"}),Object(m.jsx)("br",{}),Object(m.jsx)("h6",{className:"d-inline",children:"Rank: "})," ",a," ",Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:"mt-2",children:["unverified"===a&&Object(m.jsx)(he,{className:"mr-2",initiateLoadingRequest:function(){e(ee())},loadingRequestStatus:i}),Object(m.jsx)(me,{initiateLoadingRequest:function(){return e(te())},loadingRequestStatus:s,idleText:"Logout",idleVariant:"primary",redirectLink:"/authentication/login"})]})]})})}function Ce(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(q.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/account/profile/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=Object(S.b)("profile/getProfile",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,Ce(t);case 3:if(a=e.sent,c=a.success,i=a.payload,!c){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",r());case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Re={profileData:{},getProfileRequestStatus:"idle"},qe=Object(S.c)({name:"profile",initialState:Re,reducers:{reset:function(e,t){return Object(M.a)({},Re)}},extraReducers:function(e){e.addCase(ke.pending,(function(e,t){e.getProfileRequestStatus="pending"})).addCase(ke.rejected,(function(e,t){e.getProfileRequestStatus="rejected"})).addCase(ke.fulfilled,(function(e,t){e.getProfileRequestStatus="fulfilled",e.profileData=t.payload}))}}),Se=qe.actions.reset,we=qe.reducer,Le=function(e){return e.account.profile},Ae=function(e){return Le(e).profileData},Ne=function(e){return Ae(e).username},Pe=function(e){return Ae(e).totalArtsCreated},Ee=function(e){return Ae(e).recentSimplifiedArts},Ie=function(e){return Le(e).getProfileRequestStatus},Te=n(111),Ve=n(65);function Ue(e){var t=Object(B.k)(),n=Q(),r=e.simplifiedArt,a=r._id,c=r.title,i=r.description;return Object(m.jsxs)(W.a,{className:"h-100",children:[Object(m.jsxs)(W.a.Body,{style:{textAlign:"center"},children:[Object(m.jsx)("h5",{children:c}),Object(m.jsx)("hr",{}),i]}),Object(m.jsx)(W.a.Footer,{children:Object(m.jsx)(G.a,{className:"w-100",variant:"success",onClick:function(){return t.push("/art/open/".concat(a,"?").concat(n.toString()))},children:"Open"})})]})}function Be(){var e=Object(u.b)(),t=Object(B.k)(),n=Q(),a=Object(B.m)().userId,c=Object(u.c)(Ne),i=Object(u.c)(Ee),s=Object(u.c)(Pe),o=function(){return e(ke(a))},l=Object(u.c)(Ie);return Object(r.useEffect)((function(){return o(),function(){return e(Se())}}),[a]),Object(m.jsx)("div",{className:"account-profile d-flex flex-column",style:{flex:1},children:Object(m.jsx)(J,{initiateLoadingRequest:o,loadingRequestStatus:l,fulfilledComponent:function(){return Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{style:{textAlign:"center"},children:c}),Object(m.jsx)("hr",{}),Object(m.jsx)("h2",{children:"Creations"}),Object(m.jsx)(W.a,{children:Object(m.jsx)(W.a.Body,{children:Object(m.jsx)(D.a,{children:Object(m.jsx)(Te.a,{children:s>0?i.map((function(e,t){return Object(m.jsx)(Ve.a,{md:4,children:Object(m.jsx)(Ue,{simplifiedArt:e})},t)})):Object(m.jsx)(Ve.a,{children:Object(m.jsx)("h2",{className:"text-muted",style:{textAlign:"center"},children:"Uh oh... There are no arts"})})})})})}),s>0&&(s<=3?Object(m.jsxs)("div",{className:"d-flex mt-2",children:["Total Arts: ",s]}):Object(m.jsxs)("div",{className:"d-flex mt-2",children:["Total Arts: ",s,Object(m.jsx)(G.a,{className:"ml-auto",variant:"success",onClick:function(){n.set("userId",a),t.push("/art/browse?".concat(n.toString()))},children:"Browse All"})]}))]})}})})}var De=n(118),Fe=function(e,t,n){var r=[];if(e<=5)for(var a=1;a<e+1;a++)r.push(a);else for(var c=t-2;c<t+3;c++)c>0&&c<=e&&r.push(c);return r},We=function(e,t,n,r){return r.map((function(e){return Object(m.jsx)(De.a.Item,{active:e==t,onClick:function(){return n(e)},children:e},e)}))};function Ge(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback;return We(0,n,r,Fe(t,n))}function ze(e){return Object(m.jsx)(De.a,{children:Ge(e)})}function He(e){var t=e.currentPage,n=e.pageChangeCallback,r=t-1;return r<=1&&(r=1),Object(m.jsx)(De.a.Prev,{onClick:function(){return n(r)}})}function Je(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback;return We(0,n,r,Fe(t,n))}function Me(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback,a=n+1;return a>=t&&(a=t),Object(m.jsx)(De.a.Next,{onClick:function(){return r(a)}})}function _e(e){return Object(m.jsxs)(De.a,{children:[He(e),Je(e),Me(e)]})}function Qe(e){var t=e.pageChangeCallback;return Object(m.jsx)(De.a.First,{onClick:function(){return t(1)}})}function Ye(e){var t=e.currentPage,n=e.pageChangeCallback,r=t-1;return r<=1&&(r=1),Object(m.jsx)(De.a.Prev,{onClick:function(){return n(r)}})}function Ze(e){e.totalPages;var t=e.currentPage,n=e.pageChangeCallback;return function(e,t){return t>3}(0,t)&&Object(m.jsx)(De.a.Ellipsis,{onClick:function(){return n(function(e,t){var n=t-4;return n<=1?1:n}(0,t))}})}function Ke(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback,a=Fe(t,n);return a.shift(),a.pop(),We(0,n,r,a)}function Xe(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback;return function(e,t){return t<e-2}(t,n)&&Object(m.jsx)(De.a.Ellipsis,{onClick:function(){return r(function(e,t){var n=t+4;return n>=e?e:n}(t,n))}})}function $e(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback,a=n+1;return a>=t&&(a=t),Object(m.jsx)(De.a.Next,{onClick:function(){return r(a)}})}function et(e){var t=e.totalPages,n=e.pageChangeCallback;return Object(m.jsx)(De.a.Last,{onClick:function(){return n(t)}})}function tt(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback;return Object(m.jsxs)(De.a,{children:[Qe(e),Ye(e),Object(m.jsx)(De.a.Item,{active:1===n,onClick:function(){return r(1)},children:"1"}),Ze(e),Ke(e),Xe(e),Object(m.jsx)(De.a.Item,{active:t===n,onClick:function(){return r(t)},children:t}),$e(e),et(e)]})}function nt(e){var t=e.className,n=e.currentPage,r=e.totalPages,a=e.pageChangeCallback;return Object(m.jsx)("div",{className:"paginator d-flex justify-content-center "+t,children:r<=3?Object(m.jsx)(ze,{currentPage:n,totalPages:r,pageChangeCallback:a}):r<=5?Object(m.jsx)(_e,{currentPage:n,totalPages:r,pageChangeCallback:a}):Object(m.jsx)(tt,{currentPage:n,totalPages:r,pageChangeCallback:a})})}function rt(e){var t=e.className,n=e.cardsPerRow,r=e.totalRows,a=e.simplifiedArts,c=function(e,t,n){for(var r=[],a=0;a<t;a++){r[a]=[];for(var c=a*e,i=c;i<c+e;i++){var s=n[i];s&&r[a].push(s)}}return r}(n,r,a);return Object(m.jsx)("div",{className:"art-browser "+t,children:0===a.length?Object(m.jsx)("h4",{className:"text-muted",style:{textAlign:"center"},children:"Uh oh... There are no arts"}):c.map((function(e,t){return Object(m.jsx)(Te.a,{children:e.map((function(e,t){return Object(m.jsx)(Ve.a,{className:"my-2",md:12/n,children:Object(m.jsx)(Ue,{simplifiedArt:e})},t)}))},t)}))})}function at(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(q.a)(R.a.mark((function e(t){var n,r,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams,Boolean(t)&&n.set("userId",t),e.next=4,fetch("/api/art/browse/artCount?".concat(n.toString()));case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function it(e,t,n){return st.apply(this,arguments)}function st(){return(st=Object(q.a)(R.a.mark((function e(t,n,r){var a,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams,Boolean(r)&&a.set("userId",r),e.next=4,fetch("/api/art/browse/simplifiedArts/".concat(t,"/").concat(n,"?").concat(a.toString()));case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ut=function(e){return e.art.browse},ot=function(e){return ut(e).artCount},lt=function(e){return ut(e).simplifiedArts},dt=function(e){var t=function(e){return ut(e).getArtCountRequestStatus}(e),n=function(e){return ut(e).getSimplifiedArtsRequestStatus}(e);return"rejected"===t||"rejected"===n?"rejected":"fulfilled"===t&&"fulfilled"===n?"fulfilled":"pending"},jt=function(e){return ut(e).currentPage},ft=Object(S.b)("browse/getArtCount",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,at(t);case 3:if(a=e.sent,c=a.success,i=a.payload,c){e.next=10;break}return e.abrupt("return",r());case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),bt=Object(S.b)("browse/getSimplifiedArts",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i,s,u,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pageOffset,a=t.pageSize,c=t.userId,i=n.rejectWithValue,e.next=4,it(r,a,c);case 4:if(s=e.sent,u=s.success,o=s.payload,u){e.next=11;break}return e.abrupt("return",i());case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),pt=Object(S.b)("browse/loadResources",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i,s,u;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.pageOffset,a=t.pageSize,c=t.queriedPage,i=t.userId,s=n.getState,u=n.dispatch,-1!==ot(s())){e.next=6;break}return e.next=6,u(ft(i));case 6:if(jt(s())!==c){e.next=10;break}return e.next=10,u(bt({pageOffset:r,pageSize:a,userId:i}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ht={artCount:-1,getArtCountRequestStatus:"idle",simplifiedArts:[],getSimplifiedArtsRequestStatus:"idle",currentPage:1},xt=Object(S.c)({name:"browse",initialState:ht,reducers:{reset:function(e,t){return Object(M.a)({},ht)},setCurrentPage:function(e,t){e.currentPage=t.payload}},extraReducers:function(e){e.addCase(ft.pending,(function(e,t){e.getArtCountRequestStatus="pending"})).addCase(ft.rejected,(function(e,t){e.getArtCountRequestStatus="rejected"})).addCase(ft.fulfilled,(function(e,t){e.getArtCountRequestStatus="fulfilled",e.artCount=t.payload})).addCase(bt.pending,(function(e,t){e.getSimplifiedArtsRequestStatus="pending"})).addCase(bt.rejected,(function(e,t){e.getSimplifiedArtsRequestStatus="rejected"})).addCase(bt.fulfilled,(function(e,t){e.getSimplifiedArtsRequestStatus="fulfilled",e.simplifiedArts=t.payload}))}}),Ot=xt.actions,gt=Ot.reset,mt=Ot.setCurrentPage,vt=xt.reducer;function Ct(){var e=Object(u.b)(),t=Q(),n=Object(B.k)(),a=Object(B.l)(),c=Object(u.c)(ot),i=Object(u.c)(jt),s=Object(u.c)(lt),o=function(e,t,n){var r=e*t;return Math.ceil(n/r)}(3,4,c),l=parseInt(t.get("page")),d=isNaN(l)||l<1||l>o?1:l;-1!==c&&d!==i&&e(mt(d));var j=t.get("userId"),f=function(){return e(pt({pageOffset:i-1,pageSize:12,queriedPage:d,userId:j}))},b=Object(u.c)(dt);return Object(r.useEffect)((function(){return function(){return e(gt())}}),[]),Object(r.useEffect)((function(){var e=f();return function(){return e.abort()}}),[i,j]),Object(m.jsx)("div",{className:"art-browse d-flex flex-column",style:{flex:1},children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{style:{textAlign:"center"},children:"Art Browser"}),Object(m.jsx)("hr",{}),Object(m.jsx)(J,{initiateLoadingRequest:f,loadingRequestStatus:b,fulfilledComponent:function(){return Object(m.jsx)(D.a,{className:"mb-2",fluid:!0,children:Object(m.jsx)(rt,{cardsPerRow:3,totalRows:4,simplifiedArts:s})})}}),Object(m.jsx)(nt,{className:"mt-auto",currentPage:i,totalPages:o,pageChangeCallback:function(e){t.set("page",e),n.push(a.pathname+"?"+t.toString())}})]})})}var yt=n(113),kt=n(16),Rt=n.n(kt),qt=Rt.a.object({title:Rt.a.string().trim().min(1).max(30).required().messages({"string.empty":"Title is required.","string.min":"Title must be at least 1 characters long.","string.max":"Title must be less than or equal to 30 characters long."}),description:Rt.a.string().trim().min(1).max(100).required().messages({"string.empty":"Description is required.","string.min":"Description must be at least 1 characters long.","string.max":"Description must be less than or equal to 100 characters long."}),content:Rt.a.string().min(1).max(4e3).required().messages({"string.empty":"Content is required.","string.min":"Content must be at least 1 characters long.","string.max":"Content must be less than or equal to 4000 characters long."})});function St(e){return wt.apply(this,arguments)}function wt(){return(wt=Object(q.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/art/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lt=Object(S.b)("create/postCreateArt",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,a=n.rejectWithValue,!(c=qt.validate(t,{abortEarly:!1})).error){e.next=8;break}return i=c.error.details.map((function(e){return{message:e.message,path:e.path}})),r(Bt(i)),e.abrupt("return",a());case 8:return r(Bt([])),e.next=11,St(t);case 11:if(!(s=e.sent).success){e.next=16;break}return e.abrupt("return",s.payload);case 16:if(!s.error){e.next=21;break}if(!s.error.unauthenticated){e.next=20;break}return r(I()),e.abrupt("return",a("preventStateUpdates"));case 20:r(Bt([s.error]));case 21:return e.abrupt("return",a());case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),At={art:{title:"",description:"",content:""},responseArt:null,validationErrors:[],postCreateArtRequestStatus:"idle"},Nt=Object(S.c)({name:"create",initialState:At,reducers:{reset:function(e,t){return Object(M.a)({},At)},resetArt:function(e,t){e.art=Object(M.a)({},At.art)},setTitle:function(e,t){e.art.title=t.payload},setDescription:function(e,t){e.art.description=t.payload},setContent:function(e,t){e.art.content=t.payload},setValidationErrors:function(e,t){e.validationErrors=t.payload}},extraReducers:function(e){e.addCase(Lt.pending,(function(e,t){e.postCreateArtRequestStatus="pending"})).addCase(Lt.rejected,(function(e,t){"preventStateUpdates"!==t.payload&&(e.postCreateArtRequestStatus="rejected")})).addCase(Lt.fulfilled,(function(e,t){e.responseArt=t.payload,e.postCreateArtRequestStatus="fulfilled"}))}}),Pt=Nt.actions,Et=Pt.reset,It=Pt.resetArt,Tt=Pt.setTitle,Vt=Pt.setDescription,Ut=Pt.setContent,Bt=Pt.setValidationErrors,Dt=Nt.reducer,Ft=function(e){return e.art.create},Wt=function(e){return Ft(e).art},Gt=function(e){return Wt(e).title},zt=function(e){return Wt(e).description},Ht=function(e){return Wt(e).content},Jt=function(e){var t;return null===(t=function(e){return Ft(e).responseArt}(e))||void 0===t?void 0:t._id},Mt=function(e){return Ft(e).postCreateArtRequestStatus},_t=function(e){var t;return null===(t=Ft(e).validationErrors.filter((function(e){var t=e.path;return 1===t.length&&"title"===t[0]}))[0])||void 0===t?void 0:t.message},Qt=function(e){var t;return null===(t=Ft(e).validationErrors.filter((function(e){var t=e.path;return 1===t.length&&"description"===t[0]}))[0])||void 0===t?void 0:t.message},Yt=function(e){var t;return null===(t=Ft(e).validationErrors.filter((function(e){var t=e.path;return 1===t.length&&"content"===t[0]}))[0])||void 0===t?void 0:t.message},Zt=function(e){var t;return null===(t=Ft(e).validationErrors.filter((function(e){var t=e.path;return 1===t.length&&"alert"===t[0]}))[0])||void 0===t?void 0:t.message};function Kt(){var e=Object(u.b)(),t=Object(u.c)(Wt),n=Object(u.c)(Gt),a=Object(u.c)(zt),c=Object(u.c)(Ht),i=Object(u.c)(Mt),s=Object(u.c)(Jt),o=Object(u.c)(_t),l=Object(u.c)(Qt),d=Object(u.c)(Yt),j=Object(u.c)(Zt);return Object(r.useEffect)((function(){return function(){return e(Et())}}),[]),Object(m.jsxs)("div",{className:"art-create d-flex flex-column",style:{flex:1},children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{className:"mb-3",style:{textAlign:"center"},children:"Art Editor"}),Object(m.jsx)("hr",{})]}),Boolean(j)&&Object(m.jsx)(fe.a,{variant:"danger",children:j}),Object(m.jsxs)(yt.a,{children:[Object(m.jsxs)(yt.a.Group,{controlId:"title",children:[Object(m.jsx)(yt.a.Label,{children:"Title"}),Object(m.jsx)(yt.a.Control,{type:"text",placeholder:"Title",value:n,isInvalid:Boolean(o),onChange:function(t){return e(Tt(t.target.value))}}),Object(m.jsx)(yt.a.Control.Feedback,{type:"invalid",children:o})]}),Object(m.jsxs)(yt.a.Group,{controlId:"description",children:[Object(m.jsx)(yt.a.Label,{children:"Description"}),Object(m.jsx)(yt.a.Control,{type:"text",placeholder:"Description",value:a,isInvalid:Boolean(l),onChange:function(t){return e(Vt(t.target.value))}}),Object(m.jsx)(yt.a.Control.Feedback,{type:"invalid",children:l})]}),Object(m.jsxs)(yt.a.Group,{controlId:"content",children:[Object(m.jsx)(yt.a.Label,{children:"Content"}),Object(m.jsx)(yt.a.Control,{autoComplete:"off",as:"textarea",rows:3,placeholder:"Content",value:c,isInvalid:Boolean(d),onChange:function(t){return e(Ut(t.target.value))}}),Object(m.jsx)(yt.a.Control.Feedback,{type:"invalid",children:d})]})]}),Object(m.jsxs)("div",{className:"my-4 d-flex",children:[Object(m.jsx)(G.a,{variant:"primary",onClick:function(){return e(It())},children:"New"}),Object(m.jsx)(me,{className:"ml-auto",initiateLoadingRequest:function(){return e(Lt(t))},loadingRequestStatus:i,idleText:"Create",redirectLink:"/art/open/".concat(s)})]})]})}function Xt(e){return $t.apply(this,arguments)}function $t(){return($t=Object(q.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/art/open/art/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function en(e){return tn.apply(this,arguments)}function tn(){return(tn=Object(q.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/art/delete/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var nn=Object(S.b)("open/getArt",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,Xt(t);case 3:if(a=e.sent,c=a.success,i=a.payload,c){e.next=10;break}return e.abrupt("return",r());case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),rn=Object(S.b)("open/getDeleteArt",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,en(t);case 3:if(a=e.sent,c=a.success,i=a.payload,c){e.next=10;break}return e.abrupt("return",r());case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),an={art:{},getArtRequestStatus:"idle",getDeleteArtRequestStatus:"idle"},cn=Object(S.c)({name:"open",initialState:an,reducers:{reset:function(e,t){return Object(M.a)({},an)}},extraReducers:function(e){e.addCase(nn.pending,(function(e,t){e.getArtRequestStatus="pending"})).addCase(nn.rejected,(function(e,t){e.getArtRequestStatus="rejected"})).addCase(nn.fulfilled,(function(e,t){e.getArtRequestStatus="fulfilled",e.art=t.payload})).addCase(rn.pending,(function(e,t){e.getDeleteArtRequestStatus="pending"})).addCase(rn.rejected,(function(e,t){e.getDeleteArtRequestStatus="rejected"})).addCase(rn.fulfilled,(function(e,t){e.getDeleteArtRequestStatus="fulfilled"}))}}),sn=cn.actions.reset,un=cn.reducer,on=function(e){return e.art.open},ln=function(e){return on(e).art},dn=function(e){return ln(e).creatorId},jn=function(e){return ln(e).title},fn=function(e){return ln(e).description},bn=function(e){return ln(e).content},pn=function(e){return on(e).getArtRequestStatus},hn=function(e){return on(e).getDeleteArtRequestStatus};function xn(){var e=Object(u.b)(),t=Object(B.k)(),n=Q(),a=Object(B.m)().artId,c=Object(u.c)(dn),i=Object(u.c)(jn),s=Object(u.c)(fn),o=Object(u.c)(bn),d=(Object(u.c)(l),Object(u.c)(j)===c),f=Object(u.c)(pn),b=function(){return e(nn(a))},p=f,h=function(){return e(rn(a))},x=Object(u.c)(hn);return Object(r.useEffect)((function(){return b(),function(){return e(sn())}}),[]),Object(m.jsx)("div",{className:"art-open d-flex flex-column",style:{flex:1},children:Object(m.jsx)(J,{initiateLoadingRequest:b,loadingRequestStatus:p,fulfilledComponent:function(){return Object(m.jsxs)("div",{style:{textAlign:"center"},children:[Object(m.jsx)("h2",{children:i}),Object(m.jsx)("hr",{}),s,Object(m.jsx)(W.a,{className:"my-2",children:Object(m.jsx)(W.a.Body,{style:{whiteSpace:"pre-line",fontFamily:"monospace"},children:o})}),Object(m.jsxs)("div",{className:"my-4 d-flex",children:[Object(m.jsx)(G.a,{className:"mr-2",variant:"success",onClick:function(){return t.push("/account/profile/".concat(c,"?").concat(n.toString()))},children:"Creator Profile"}),Object(m.jsx)(G.a,{variant:"secondary",onClick:function(){return navigator.clipboard.writeText(o)},children:"Copy"}),Object(m.jsxs)("div",{className:"ml-auto",children:[d&&Object(m.jsx)(me,{className:"mr-2",idleText:"Delete",idleVariant:"danger",initiateLoadingRequest:h,loadingRequestStatus:x,redirectLink:"/art/browse?".concat(n.toString())}),Object(m.jsx)(G.a,{variant:"primary",onClick:function(){t.push("/art/browse?".concat(n.toString()))},children:"Back To Browse"})]})]})]})}})})}function On(e){return gn.apply(this,arguments)}function gn(){return(gn=Object(q.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mn=Rt.a.object({username:Rt.a.string().alphanum().trim().min(3).max(20).required().messages({"string.empty":"Username is required.","string.min":"Username must be at least 3 characters long.","string.max":"Username must be less than or equal to 20 characters long."}),password:Rt.a.string().min(10).max(100).required().messages({"string.empty":"Password is required.","string.min":"Password must be at least 10 characters long.","string.max":"Password must be less than or equal to 100 characters long."})}),vn=Rt.a.object({user:mn,recaptchaToken:Rt.a.string().required().messages({"string.empty":"reCaptcha is required."})}),Cn=Object(S.b)("login/postLoginUser",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,a=n.rejectWithValue,!(c=vn.validate(t,{abortEarly:!1})).error){e.next=8;break}return i=c.error.details.map((function(e){return{message:e.message,path:e.path}})),r(An(i)),e.abrupt("return",a());case 8:return r(An([])),e.next=11,On(t);case 11:if(!(s=e.sent).success){e.next=18;break}return e.next=15,r(P());case 15:return e.abrupt("return",s);case 18:if(!s.error.authenticated){e.next=22;break}return e.next=21,r(P());case 21:return e.abrupt("return",a("preventStateUpdates"));case 22:return s.error&&r(An([s.error])),e.abrupt("return",a());case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),yn={username:"",password:"",recaptchaToken:"",validationErrors:[],postLoginUserRequestStatus:"idle"},kn=Object(S.c)({name:"login",initialState:yn,reducers:{reset:function(e,t){return Object(M.a)({},yn)},setUsername:function(e,t){e.username=t.payload},setPassword:function(e,t){e.password=t.payload},setRecaptchaToken:function(e,t){e.recaptchaToken=t.payload},setValidationErrors:function(e,t){e.validationErrors=t.payload},setPostLoginUserRequestStatus:function(e,t){e.postLoginUserRequestStatus=t.payload}},extraReducers:function(e){e.addCase(Cn.pending,(function(e,t){e.postLoginUserRequestStatus="pending"})).addCase(Cn.rejected,(function(e,t){"preventStateUpdates"!==t.payload&&(e.postLoginUserRequestStatus="rejected")})).addCase(Cn.fulfilled,(function(e,t){e.postLoginUserRequestStatus="fulfilled"}))}}),Rn=kn.actions,qn=Rn.reset,Sn=Rn.setUsername,wn=Rn.setPassword,Ln=Rn.setRecaptchaToken,An=Rn.setValidationErrors,Nn=kn.reducer,Pn=function(e){return e.authentication.login},En=function(e){return Pn(e).username},In=function(e){return Pn(e).password},Tn=function(e){return Pn(e).recaptchaToken},Vn=function(e){return Pn(e).postLoginUserRequestStatus},Un=function(e){var t;return null===(t=Pn(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"username"===t[1]}))[0])||void 0===t?void 0:t.message},Bn=function(e){var t;return null===(t=Pn(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"password"===t[1]}))[0])||void 0===t?void 0:t.message},Dn=function(e){var t;return null===(t=Pn(e).validationErrors.filter((function(e){var t=e.path;return 1==t.length&&"recaptchaToken"===t[0]}))[0])||void 0===t?void 0:t.message},Fn="6Lfvwf8aAAAAAGfNx8ZjRBw3wawxBMmDTkdttG6g",Wn=n(46);function Gn(){var e=Object(u.b)(),t=(Object(B.l)(),Q()),n=t.get("redirect"),a=Boolean(n);a&&t.delete("redirect");var c=a?"".concat(n,"?").concat(t.toString()):"",i=Object(u.c)(En),s=Object(u.c)(In),o=Object(u.c)(Tn),l=Object(u.c)(Un),d=Object(u.c)(Bn),j=Object(u.c)(Dn),f=Object(u.c)(Vn);return Object(r.useEffect)((function(){return function(){return e(qn())}}),[]),Object(m.jsx)("div",{className:"authentication-login d-flex flex-column",style:{flex:1},children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{style:{textAlign:"center"},children:"Login"}),Object(m.jsx)("hr",{}),Object(m.jsxs)(yt.a,{children:[Object(m.jsxs)(yt.a.Group,{controlId:"username",children:[Object(m.jsx)(yt.a.Label,{children:"Username"}),Object(m.jsx)(yt.a.Control,{type:"text",value:i,isInvalid:Boolean(l),onChange:function(t){return e(Sn(t.target.value))}}),Object(m.jsx)(yt.a.Control.Feedback,{type:"invalid",children:l})]}),Object(m.jsxs)(yt.a.Group,{controlId:"password",children:[Object(m.jsx)(yt.a.Label,{children:"Password"}),Object(m.jsx)(yt.a.Control,{type:"password",value:s,isInvalid:Boolean(d),onChange:function(t){return e(wn(t.target.value))}}),Object(m.jsx)(yt.a.Control.Feedback,{type:"invalid",children:d}),Object(m.jsx)(g.LinkContainer,{to:"/",children:Object(m.jsx)("a",{className:"text-muted text-decoration-none",children:Object(m.jsx)(yt.a.Text,{children:"Forgot Password?"})})})]})]}),Object(m.jsx)(Wn.a,{sitekey:Fn,onChange:function(t){return e(Ln(t))}}),Object(m.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:j}),Object(m.jsx)("div",{className:"mt-3 d-flex",children:Object(m.jsx)(me,{initiateLoadingRequest:function(){return e(Cn({user:{username:i,password:s},recaptchaToken:o}))},loadingRequestStatus:f,idleText:"Login",redirectLink:a?c:"/account/dashboard"})})]})})}function zn(e){return Hn.apply(this,arguments)}function Hn(){return(Hn=Object(q.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jn=Rt.a.object({username:Rt.a.string().alphanum().trim().min(3).max(20).required().messages({"string.empty":"Username is required.","string.min":"Username must be at least 3 characters long.","string.max":"Username must be less than or equal to 20 characters long."}),email:Rt.a.string().email({tlds:{allow:!1}}).required().messages({"string.empty":"Email is required.","string.email":"Please enter a correct email."}),password:Rt.a.string().min(10).max(100).required().messages({"string.empty":"Password is required.","string.min":"Password must be at least 10 characters long.","string.max":"Password must be less than or equal to 100 characters long."})}),Mn=Rt.a.object({user:Jn,recaptchaToken:Rt.a.string().required().messages({"string.empty":"reCaptcha is required."})}),_n=Object(S.b)("register/postRegisterUser",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c,i,s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,a=n.rejectWithValue,!(c=Mn.validate(t,{abortEarly:!1})).error){e.next=8;break}return i=c.error.details.map((function(e){return{message:e.message,path:e.path}})),r(nr(i)),e.abrupt("return",a());case 8:return r(nr([])),e.next=11,zn(t);case 11:if(!(s=e.sent).success){e.next=18;break}return e.next=15,r(P());case 15:return e.abrupt("return",s);case 18:if(!s.error.authenticated){e.next=22;break}return e.next=21,r(P());case 21:return e.abrupt("return",a("preventStateUpdates"));case 22:return s.error&&r(nr([s.error])),e.abrupt("return",a());case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Qn={username:"",email:"",password:"",recaptchaToken:"",postRegisterUserRequestStatus:"idle",validationErrors:[]},Yn=Object(S.c)({name:"register",initialState:Qn,reducers:{reset:function(e,t){return Object(M.a)({},Qn)},setUsername:function(e,t){e.username=t.payload},setEmail:function(e,t){e.email=t.payload},setPassword:function(e,t){e.password=t.payload},setRecaptchaToken:function(e,t){e.recaptchaToken=t.payload},setValidationErrors:function(e,t){e.validationErrors=t.payload}},extraReducers:function(e){e.addCase(_n.pending,(function(e,t){e.postRegisterUserRequestStatus="pending"})).addCase(_n.rejected,(function(e,t){"preventStateUpdates"!==t.payload&&(e.postRegisterUserRequestStatus="rejected")})).addCase(_n.fulfilled,(function(e,t){e.postRegisterUserRequestStatus="fulfilled"}))}}),Zn=Yn.actions,Kn=Zn.reset,Xn=Zn.setUsername,$n=Zn.setEmail,er=Zn.setPassword,tr=Zn.setRecaptchaToken,nr=Zn.setValidationErrors,rr=Yn.reducer,ar=function(e){return e.authentication.register},cr=function(e){return ar(e).username},ir=function(e){return ar(e).email},sr=function(e){return ar(e).password},ur=function(e){return ar(e).recaptchaToken},or=function(e){return ar(e).postRegisterUserRequestStatus},lr=function(e){var t;return null===(t=ar(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"username"===t[1]}))[0])||void 0===t?void 0:t.message},dr=function(e){var t;return null===(t=ar(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"email"===t[1]}))[0])||void 0===t?void 0:t.message},jr=function(e){var t;return null===(t=ar(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"password"===t[1]}))[0])||void 0===t?void 0:t.message},fr=function(e){var t;return null===(t=ar(e).validationErrors.filter((function(e){var t=e.path;return 1==t.length&&"recaptchaToken"===t[0]}))[0])||void 0===t?void 0:t.message};function br(){var e=Object(u.b)(),t=Object(u.c)(cr),n=Object(u.c)(ir),a=Object(u.c)(sr),c=Object(u.c)(ur),i=Object(u.c)(lr),s=Object(u.c)(dr),o=Object(u.c)(jr),l=Object(u.c)(fr),d=Object(u.c)(or);return Object(r.useEffect)((function(){return function(){return e(Kn())}}),[]),Object(m.jsx)("div",{className:"authentication-register d-flex flex-column",style:{flex:1},children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{style:{textAlign:"center"},children:"Register"}),Object(m.jsx)("hr",{}),Object(m.jsxs)(yt.a,{children:[Object(m.jsxs)(yt.a.Group,{controlId:"username",children:[Object(m.jsx)(yt.a.Label,{children:"Username"}),Object(m.jsx)(yt.a.Control,{type:"text",value:t,isInvalid:Boolean(i),onChange:function(t){return e(Xn(t.target.value))}}),Object(m.jsx)(yt.a.Control.Feedback,{type:"invalid",children:i})]}),Object(m.jsxs)(yt.a.Group,{controlId:"email",children:[Object(m.jsx)(yt.a.Label,{children:"Email"}),Object(m.jsx)(yt.a.Control,{type:"email",value:n,isInvalid:Boolean(s),onChange:function(t){return e($n(t.target.value))}}),Object(m.jsx)(yt.a.Control.Feedback,{type:"invalid",children:s})]}),Object(m.jsxs)(yt.a.Group,{controlId:"password",children:[Object(m.jsx)(yt.a.Label,{children:"Password"}),Object(m.jsx)(yt.a.Control,{type:"password",value:a,isInvalid:Boolean(o),onChange:function(t){return e(er(t.target.value))}}),Object(m.jsx)(yt.a.Control.Feedback,{type:"invalid",children:o})]})]}),Object(m.jsx)(Wn.a,{sitekey:Fn,onChange:function(t){return e(tr(t))}}),Object(m.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:l}),Object(m.jsx)("div",{className:"mt-3 d-flex",children:Object(m.jsx)(me,{initiateLoadingRequest:function(){return e(_n({user:{username:t,email:n,password:a},recaptchaToken:c}))},loadingRequestStatus:d,idleText:"Register",redirectLink:"/authentication/login"})})]})})}function pr(e){return hr.apply(this,arguments)}function hr(){return(hr=Object(q.a)(R.a.mark((function e(t){var n,r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/emailverification/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xr=Object(S.b)("authenticationEmailVerification/getEmailVerification",function(){var e=Object(q.a)(R.a.mark((function e(t,n){var r,a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.rejectWithValue,e.next=3,pr(t);case 3:if(!(c=e.sent).success){e.next=8;break}return e.abrupt("return",!0);case 8:return c.error&&r(Cr([c.error])),e.abrupt("return",a());case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Or={getEmailVerificationRequestStatus:"idle",errors:[]},gr=Object(S.c)({name:"emailVerification",initialState:Or,reducers:{reset:function(e,t){return Object(M.a)({},Or)},setErrors:function(e,t){e.errors=t.payload}},extraReducers:function(e){e.addCase(xr.pending,(function(e,t){e.getEmailVerificationRequestStatus="pending"})).addCase(xr.rejected,(function(e,t){e.getEmailVerificationRequestStatus="rejected"})).addCase(xr.fulfilled,(function(e,t){e.getEmailVerificationRequestStatus="fulfilled"}))}}),mr=gr.actions,vr=mr.reset,Cr=mr.setErrors,yr=gr.reducer,kr=function(e){return e.authentication.emailVerification},Rr=function(e){return kr(e).getEmailVerificationRequestStatus},qr=function(e){var t;return null===(t=kr(e).errors.filter((function(e){var t=e.path;return 1===t.length&&"alert"===t[0]}))[0])||void 0===t?void 0:t.message};function Sr(){var e=Object(u.b)(),t=Object(B.m)().token,n=Object(B.k)(),a=Object(u.c)(qr),c=Object(u.c)(l),i=function(){return e(xr(t))},s=Object(u.c)(Rr);return Object(r.useEffect)((function(){return i(),function(){return e(vr())}}),[]),Object(m.jsx)("div",{className:"authentication-emailVerification d-flex flex-column",style:{flex:1},children:Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{style:{textAlign:"center"},children:"Email Verification"}),Object(m.jsx)("hr",{}),Boolean(a)&&Object(m.jsx)(fe.a,{variant:"danger",children:a}),!Boolean(a)&&Object(m.jsx)(J,{initiateLoadingRequest:i,loadingRequestStatus:s,fulfilledComponent:function(){return Object(m.jsx)(fe.a,{variant:"success",children:"Your email has been successfully verified and your rank has been updated!"})}}),c?Object(m.jsx)(G.a,{onClick:function(){e(P()),n.push("/account/dashboard")},className:"mt-2",variant:"success",children:"Dashboard"}):Object(m.jsx)(G.a,{onClick:function(){n.push("/authentication/login")},className:"mt-2",variant:"success",children:"Login"})]})})}function wr(){var e=Object(u.c)(l);return[Object(m.jsx)(B.d,{exact:!0,path:"/authentication/login",children:e?Object(m.jsx)(B.c,{exact:!0,to:"/account/dashboard"}):Object(m.jsx)(Gn,{})},"/authentication/login"),Object(m.jsx)(B.d,{exact:!0,path:"/authentication/register",children:e?Object(m.jsx)(B.c,{exact:!0,to:"/account/dashboard"}):Object(m.jsx)(br,{})},"/authentication/register"),Object(m.jsx)(B.d,{exact:!0,path:"/authentication/emailverification/:token",children:Object(m.jsx)(Sr,{})},"/authentication/emailverification/:token")]}function Lr(){var e=Object(u.b)(),t=function(){return e(V())},n=Object(u.c)(L);return Object(r.useEffect)((function(){t()}),[]),Object(m.jsx)("div",{className:"main d-flex flex-column",style:{flex:1},children:Object(m.jsx)(D.a,{className:"my-3 d-flex flex-column",style:{flex:1},children:Object(m.jsx)(J,{initiateLoadingRequest:t,loadingRequestStatus:n,fulfilledComponent:function(){return Object(m.jsxs)(B.g,{children:[[Object(m.jsx)(Y,{exact:!0,path:"/account/dashboard",children:Object(m.jsx)(ve,{})},"/account/dashboard"),Object(m.jsx)(B.d,{exact:!0,path:"/account/profile/:userId",children:Object(m.jsx)(Be,{})},"/account/profile")],[Object(m.jsx)(B.d,{exact:!0,path:"/art/browse",children:Object(m.jsx)(Ct,{})},"/art/browse"),Object(m.jsx)(Y,{exact:!0,path:"/art/create",children:Object(m.jsx)(Kt,{})},"/art/create"),Object(m.jsx)(B.d,{exact:!0,path:"/art/open/:artId",children:Object(m.jsx)(xn,{})},"/art/open")],wr()]})}})})})}n(101);function Ar(){return Object(m.jsx)("div",{className:"footer pbc p-3",children:Object(m.jsxs)(D.a,{fluid:!0,children:[Object(m.jsxs)(Te.a,{style:{textAlign:"center"},children:[Object(m.jsxs)(Ve.a,{md:!0,children:[Object(m.jsx)("h5",{children:"ASCII-CRAFT"}),Object(m.jsxs)("div",{className:"d-flex flex-column",children:[Object(m.jsx)("div",{children:Object(m.jsx)("a",{className:"px-2",href:"#",children:"Contact us"})}),Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:"#",children:"Privacy Policy"})}),Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:"#",children:"Terms of Service"})})]})]}),Object(m.jsxs)(Ve.a,{md:!0,children:[Object(m.jsx)("h5",{children:"HELP"}),Object(m.jsx)("div",{className:"d-flex flex-column",children:Object(m.jsx)("div",{children:Object(m.jsx)("a",{href:"#",children:"FAQ"})})})]})]}),Object(m.jsx)("hr",{}),Object(m.jsx)("small",{children:"Please respect ASCII artists and do not remove their signature while sharing their art."})]})})}n(102),n(103);function Nr(){return Object(m.jsxs)("div",{className:"app d-flex flex-column",style:{minHeight:"100vh"},children:[Object(m.jsx)(y,{}),Object(m.jsx)(Lr,{}),Object(m.jsx)(Ar,{})]})}var Pr=n(17),Er=n(29),Ir=Object(Er.b)({create:Dt,browse:vt,open:un}),Tr=Object(Er.b)({register:rr,login:Nn,emailVerification:yr}),Vr=Object(Er.b)({dashboard:ue,profile:we}),Ur=Object(S.a)({reducer:{art:Ir,authentication:Tr,account:Vr,loader:U,authenticated:T}});i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(u.a,{store:Ur,children:Object(m.jsx)(Pr.BrowserRouter,{children:Object(m.jsx)(Nr,{})})})}),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.9712f1c2.chunk.js.map