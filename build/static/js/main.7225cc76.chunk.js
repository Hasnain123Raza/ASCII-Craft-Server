(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{101:function(e,t,n){},102:function(e,t,n){},104:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(23),i=n.n(c),s=n(4),u=n(5),o=n.n(u),l=n(9),d=n(10);function j(){return f.apply(this,arguments)}function f(){return(f=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/authenticated");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=Object(d.b)("authenticated/getAuthenticated",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,j();case 3:if(!(a=e.sent).success){e.next=8;break}return e.abrupt("return",a.payload);case 8:return e.abrupt("return",r());case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),p=Object(d.c)({name:"authenticated",initialState:{isAuthenticated:!1,user:null,getAuthenticatedRequestStatus:"idle"},reducers:{resetAuthentication:function(e,t){e.isAuthenticated=!1,e.user=null}},extraReducers:function(e){e.addCase(b.pending,(function(e,t){e.getAuthenticatedRequestStatus="pending"})).addCase(b.rejected,(function(e,t){e.getAuthenticatedRequestStatus="rejected"})).addCase(b.fulfilled,(function(e,t){e.getAuthenticatedRequestStatus="fulfilled";var n=t.payload,r=n.authenticated,a=n.user;e.isAuthenticated=r,e.user=a}))}}),h=p.actions.resetAuthentication,x=p.reducer;function O(e){return function(){e(b())}}var g=n(66);var v=function(e){return e.authenticated},m=function(e){return v(e).isAuthenticated},C=function(e){return v(e).user},w=function(e){var t;return null===(t=C(e))||void 0===t?void 0:t._id},y=function(e){var t;return null===(t=C(e))||void 0===t?void 0:t.username},k=function(e){var t;return null===(t=C(e))||void 0===t?void 0:t.email},R=function(e){var t;return null===(t=C(e))||void 0===t?void 0:t.rank},S=n(115),q=n(112),P=n(114),L=n(20),N=n(1);function E(){var e=Object(s.c)(m),t=Object(s.c)(w);return Object(N.jsxs)(S.a,{style:{flex:1},children:[Object(N.jsx)(S.a.Link,{children:"Home"}),Object(N.jsx)(L.LinkContainer,{to:"/art/browse",children:Object(N.jsx)(S.a.Link,{children:"Browse"})}),Object(N.jsx)(L.LinkContainer,{to:"/art/create",children:Object(N.jsx)(S.a.Link,{children:"Create"})}),e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(L.LinkContainer,{to:"/account/profile/".concat(t),children:Object(N.jsx)(S.a.Link,{children:"Profile"})}),Object(N.jsx)(L.LinkContainer,{to:"/account/dashboard",children:Object(N.jsx)(S.a.Link,{className:"ml-auto",children:"Account"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(L.LinkContainer,{to:"/authentication/login",children:Object(N.jsx)(S.a.Link,{className:"ml-auto",children:"Login"})}),Object(N.jsx)(L.LinkContainer,{to:"/authentication/register",children:Object(N.jsx)(S.a.Link,{children:"Register"})})]})]})}function A(){var e=Object(s.c)(m),t=Object(s.c)(w);return Object(N.jsx)(S.a,{className:"ml-auto",children:Object(N.jsxs)(q.a,{title:"Menu",children:[Object(N.jsx)(q.a.Item,{children:"Home"}),Object(N.jsx)(L.LinkContainer,{to:"/art/browse",children:Object(N.jsx)(q.a.Item,{children:"Browse"})}),Object(N.jsx)(L.LinkContainer,{to:"/art/create",children:Object(N.jsx)(q.a.Item,{children:"Create"})}),Object(N.jsx)(q.a.Divider,{}),e?Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(L.LinkContainer,{to:"/account/profile/".concat(t),children:Object(N.jsx)(q.a.Item,{children:"Profile"})}),Object(N.jsx)(L.LinkContainer,{to:"/account/dashboard",children:Object(N.jsx)(q.a.Item,{children:"Account"})})]}):Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(L.LinkContainer,{to:"/authentication/login",children:Object(N.jsx)(q.a.Item,{children:"Login"})}),Object(N.jsx)(L.LinkContainer,{to:"/authentication/register",children:Object(N.jsx)(q.a.Item,{children:"Register"})})]})]})})}function T(){var e=function(){var e=Object(r.useState)({width:void 0,height:void 0}),t=Object(g.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){function e(){a({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}().width;return Object(N.jsx)("div",{className:"header pbc",children:Object(N.jsxs)(P.a,{variant:"dark",children:[Object(N.jsx)(P.a.Brand,{children:"ASCII-CRAFT"}),e>576?Object(N.jsx)(E,{}):Object(N.jsx)(A,{})]})})}function I(e){return function(e){return v(e).getAuthenticatedRequestStatus}(e)}var V=n(14),B=n(110);function U(e){var t=e.initiateLoadingRequest,n=e.loadingRequestStatus,r=e.idleComponent,a=e.pendingComponent,c=e.rejectedComponent,i=e.fulfilledComponent;return"idle"===n?Object(N.jsx)(r,{initiateLoadingRequest:t}):"pending"===n?Object(N.jsx)(a,{}):"rejected"===n?Object(N.jsx)(c,{initiateLoadingRequest:t}):"fulfilled"===n?Object(N.jsx)(i,{}):"Default"}var D=n(117),F=n(64);function W(){return Object(N.jsx)(D.a,{children:Object(N.jsxs)(D.a.Body,{children:[Object(N.jsx)("h5",{children:"Please Wait"}),Object(N.jsx)("hr",{}),"We are loading some resources",Object(N.jsx)("br",{}),Object(N.jsx)(F.a,{className:"w-100 mt-3",variant:"secondary",disabled:!0,children:"Loading..."})]})})}function G(e){var t=e.initiateLoadingRequest;return Object(N.jsx)(D.a,{children:Object(N.jsxs)(D.a.Body,{children:[Object(N.jsx)("h5",{children:"Uh Oh"}),Object(N.jsx)("hr",{}),"We were unable to load some resources",Object(N.jsx)("br",{}),Object(N.jsx)(F.a,{className:"w-100 mt-3",variant:"danger",onClick:t,children:"Retry"})]})})}function _(e){var t=e.initiateLoadingRequest,n=e.loadingRequestStatus,r=e.fulfilledComponent;return Object(N.jsx)(U,{initiateLoadingRequest:t,loadingRequestStatus:n,idleComponent:W,pendingComponent:W,rejectedComponent:G,fulfilledComponent:r})}var J=n(11),z=n(67);function H(){return new URLSearchParams(Object(V.l)().search)}function M(e){var t=e.children,n=Object(z.a)(e,["children"]),r=Object(V.l)(),a=H();a.set("redirect",r.pathname);var c=Object(s.c)(m);return Object(N.jsx)(V.d,Object(J.a)(Object(J.a)({},n),{},{children:c?t:Object(N.jsx)(V.c,{exact:!0,to:"/authentication/login?"+a.toString()})}))}function Q(){return Y.apply(this,arguments)}function Y(){return(Y=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/logout");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return K.apply(this,arguments)}function K(){return(K=Object(l.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/emailVerification");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var X=Object(d.b)("dashboard/getEmailVerification",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.rejectWithValue,e.next=3,Z();case 3:if(!(c=e.sent).success){e.next=9;break}return r(ae([])),e.abrupt("return",!0);case 9:c.error&&r(ae([c.error])),a();case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),$=Object(d.b)("dashboard/getLogout",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.rejectWithValue,e.next=3,Q();case 3:if(!e.sent.success){e.next=9;break}return r(h()),e.abrupt("return",!0);case 9:a();case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ee={getEmailVerificationRequestStatus:"idle",getLogoutRequestStatus:"idle",errors:[]},te=Object(d.c)({name:"dashboard",initialState:ee,reducers:{reset:function(e,t){return Object(J.a)({},ee)},setErrors:function(e,t){e.errors=t.payload}},extraReducers:function(e){e.addCase(X.pending,(function(e,t){e.getEmailVerificationRequestStatus="pending"})).addCase(X.rejected,(function(e,t){e.getEmailVerificationRequestStatus="rejected"})).addCase(X.fulfilled,(function(e,t){e.getEmailVerificationRequestStatus="fulfilled"})).addCase($.pending,(function(e,t){e.getLogoutRequestStatus="pending"})).addCase($.rejected,(function(e,t){e.getLogoutRequestStatus="rejected"})).addCase($.fulfilled,(function(e,t){e.getLogoutRequestStatus="fulfilled"}))}}),ne=te.actions,re=ne.reset,ae=ne.setErrors,ce=te.reducer,ie=function(e){return e.account.dashboard},se=function(e){return ie(e).getEmailVerificationRequestStatus},ue=function(e){return ie(e).getLogoutRequestStatus},oe=function(e){var t;return null===(t=ie(e).errors.filter((function(e){var t=e.path;return 1===t.length&&"alert"===t[0]}))[0])||void 0===t?void 0:t.message},le=n(116),de=n(109);function je(e){var t=e.className,n=e.initiateLoadingRequest,r=e.text,a=e.variant;return Object(N.jsx)(F.a,{className:t,variant:a,onClick:n,children:r})}function fe(e){var t=e.className;return Object(N.jsx)(F.a,{className:t,variant:"secondary",disabled:!0,children:"Loading..."})}function be(e){var t=e.className,n=e.initiateLoadingRequest,r=e.loadingRequestStatus,a=e.idleText,c=e.idleVariant,i=void 0===c?"success":c,s=e.hideRetry,u=void 0===s||s;return Object(N.jsx)(U,{initiateLoadingRequest:n,loadingRequestStatus:r,idleComponent:function(){return Object(N.jsx)(je,{className:t,initiateLoadingRequest:n,text:a,variant:i})},pendingComponent:function(){return Object(N.jsx)(fe,{className:t})},rejectedComponent:function(){return u?Object(N.jsx)(je,{className:t,initiateLoadingRequest:n,text:a,variant:i}):Object(N.jsx)(je,{className:t,initiateLoadingRequest:n,text:"Retry",variant:"danger"})},fulfilledComponent:function(){return Object(N.jsx)(je,{className:t,initiateLoadingRequest:n,text:a,variant:i})}})}function pe(e){var t=e.className,n=e.initiateLoadingRequest,r=e.text,a=e.variant;return Object(N.jsx)(F.a,{className:t,variant:a,onClick:n,children:r})}function he(e){var t=e.className;return Object(N.jsx)(F.a,{className:t,variant:"secondary",disabled:!0,children:"Loading..."})}function xe(e){var t=e.className,n=e.initiateLoadingRequest,r=e.loadingRequestStatus,a=e.idleText,c=e.idleVariant,i=void 0===c?"success":c,s=e.redirectLink;return Object(N.jsx)(U,{initiateLoadingRequest:n,loadingRequestStatus:r,idleComponent:function(){return Object(N.jsx)(pe,{className:t,initiateLoadingRequest:n,text:a,variant:i})},pendingComponent:function(){return Object(N.jsx)(he,{className:t})},rejectedComponent:function(){return Object(N.jsx)(pe,{className:t,initiateLoadingRequest:n,text:"Retry",variant:"danger"})},fulfilledComponent:function(){return Object(N.jsx)(V.c,{exact:!0,to:s})}})}function Oe(){var e=Object(s.b)(),t=Object(s.c)(y),n=Object(s.c)(k),a=Object(s.c)(R),c=Object(s.c)(oe),i=Object(s.c)(se),u=Object(s.c)(ue);return Object(r.useEffect)((function(){return function(){return e(re())}}),[]),Object(N.jsx)("div",{className:"account-dashboard d-flex flex-column",style:{flex:1},children:Object(N.jsxs)("div",{children:[Object(N.jsxs)("h2",{style:{textAlign:"center"},children:["Welcome ",t,"!"]}),Object(N.jsx)("hr",{}),Boolean(c)&&Object(N.jsx)(le.a,{variant:"danger",children:c}),Object(N.jsx)("h6",{className:"d-inline",children:"Username: "})," ",t," ",Object(N.jsx)("br",{}),Object(N.jsx)("h6",{className:"d-inline",children:"Email: "}),n," ","unverified"===a&&Object(N.jsx)(de.a,{variant:"danger",children:"Not Verified"}),Object(N.jsx)("br",{}),Object(N.jsx)("h6",{className:"d-inline",children:"Rank: "})," ",a," ",Object(N.jsx)("br",{}),Object(N.jsxs)("div",{className:"mt-2",children:["unverified"===a&&Object(N.jsx)(be,{className:"mr-2",initiateLoadingRequest:function(){e(X())},loadingRequestStatus:i,idleText:"Send Email Verification"}),Object(N.jsx)(xe,{initiateLoadingRequest:function(){return e($())},loadingRequestStatus:u,idleText:"Logout",idleVariant:"primary",redirectLink:"/authentication/login"})]})]})})}function ge(e){return ve.apply(this,arguments)}function ve(){return(ve=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/account/profile/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var me=Object(d.b)("profile/getProfile",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,ge(t);case 3:if(a=e.sent,c=a.success,i=a.payload,!c){e.next=10;break}return e.abrupt("return",i);case 10:return e.abrupt("return",r());case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ce={profileData:{},getProfileRequestStatus:"idle"},we=Object(d.c)({name:"profile",initialState:Ce,reducers:{reset:function(e,t){return Object(J.a)({},Ce)}},extraReducers:function(e){e.addCase(me.pending,(function(e,t){e.getProfileRequestStatus="pending"})).addCase(me.rejected,(function(e,t){e.getProfileRequestStatus="rejected"})).addCase(me.fulfilled,(function(e,t){e.getProfileRequestStatus="fulfilled",e.profileData=t.payload}))}}),ye=we.actions.reset,ke=we.reducer,Re=function(e){return e.account.profile},Se=function(e){return Re(e).profileData},qe=function(e){return Se(e).username},Pe=function(e){return Se(e).totalArtsCreated},Le=function(e){return Se(e).recentSimplifiedArts},Ne=function(e){return Re(e).getProfileRequestStatus},Ee=n(111),Ae=n(65);function Te(e){var t=Object(V.k)(),n=H(),r=e.simplifiedArt,a=r._id,c=r.title,i=r.description;return Object(N.jsxs)(D.a,{className:"h-100",children:[Object(N.jsxs)(D.a.Body,{style:{textAlign:"center"},children:[Object(N.jsx)("h5",{children:c}),Object(N.jsx)("hr",{}),i]}),Object(N.jsx)(D.a.Footer,{children:Object(N.jsx)(F.a,{className:"w-100",variant:"success",onClick:function(){return t.push("/art/open/".concat(a,"?").concat(n.toString()))},children:"Open"})})]})}function Ie(){var e=Object(s.b)(),t=Object(V.k)(),n=H(),a=Object(V.m)().userId,c=Object(s.c)(qe),i=Object(s.c)(Le),u=Object(s.c)(Pe),o=function(){return e(me(a))},l=Object(s.c)(Ne);return Object(r.useEffect)((function(){return o(),function(){return e(ye())}}),[a]),Object(N.jsx)("div",{className:"account-profile d-flex flex-column",style:{flex:1},children:Object(N.jsx)(_,{initiateLoadingRequest:o,loadingRequestStatus:l,fulfilledComponent:function(){return Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:c}),Object(N.jsx)("hr",{}),Object(N.jsx)("h2",{children:"Creations"}),Object(N.jsx)(D.a,{children:Object(N.jsx)(D.a.Body,{children:Object(N.jsx)(B.a,{children:Object(N.jsx)(Ee.a,{children:u>0?i.map((function(e,t){return Object(N.jsx)(Ae.a,{md:4,children:Object(N.jsx)(Te,{simplifiedArt:e})},t)})):Object(N.jsx)(Ae.a,{children:Object(N.jsx)("h2",{className:"text-muted",style:{textAlign:"center"},children:"Uh oh... There are no arts"})})})})})}),u>0&&(u<=3?Object(N.jsxs)("div",{className:"d-flex mt-2",children:["Total Arts: ",u]}):Object(N.jsxs)("div",{className:"d-flex mt-2",children:["Total Arts: ",u,Object(N.jsx)(F.a,{className:"ml-auto",variant:"success",onClick:function(){n.set("userId",a),t.push("/art/browse?".concat(n.toString()))},children:"Browse All"})]}))]})}})})}var Ve=n(118),Be=function(e,t,n){var r=[];if(e<=5)for(var a=1;a<e+1;a++)r.push(a);else for(var c=t-2;c<t+3;c++)c>0&&c<=e&&r.push(c);return r},Ue=function(e,t,n,r){return r.map((function(e){return Object(N.jsx)(Ve.a.Item,{active:e==t,onClick:function(){return n(e)},children:e},e)}))};function De(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback;return Ue(0,n,r,Be(t,n))}function Fe(e){return Object(N.jsx)(Ve.a,{children:De(e)})}function We(e){var t=e.currentPage,n=e.pageChangeCallback,r=t-1;return r<=1&&(r=1),Object(N.jsx)(Ve.a.Prev,{onClick:function(){return n(r)}})}function Ge(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback;return Ue(0,n,r,Be(t,n))}function _e(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback,a=n+1;return a>=t&&(a=t),Object(N.jsx)(Ve.a.Next,{onClick:function(){return r(a)}})}function Je(e){return Object(N.jsxs)(Ve.a,{children:[We(e),Ge(e),_e(e)]})}function ze(e){var t=e.pageChangeCallback;return Object(N.jsx)(Ve.a.First,{onClick:function(){return t(1)}})}function He(e){var t=e.currentPage,n=e.pageChangeCallback,r=t-1;return r<=1&&(r=1),Object(N.jsx)(Ve.a.Prev,{onClick:function(){return n(r)}})}function Me(e){e.totalPages;var t=e.currentPage,n=e.pageChangeCallback;return function(e,t){return t>3}(0,t)&&Object(N.jsx)(Ve.a.Ellipsis,{onClick:function(){return n(function(e,t){var n=t-4;return n<=1?1:n}(0,t))}})}function Qe(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback,a=Be(t,n);return a.shift(),a.pop(),Ue(0,n,r,a)}function Ye(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback;return function(e,t){return t<e-2}(t,n)&&Object(N.jsx)(Ve.a.Ellipsis,{onClick:function(){return r(function(e,t){var n=t+4;return n>=e?e:n}(t,n))}})}function Ze(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback,a=n+1;return a>=t&&(a=t),Object(N.jsx)(Ve.a.Next,{onClick:function(){return r(a)}})}function Ke(e){var t=e.totalPages,n=e.pageChangeCallback;return Object(N.jsx)(Ve.a.Last,{onClick:function(){return n(t)}})}function Xe(e){var t=e.totalPages,n=e.currentPage,r=e.pageChangeCallback;return Object(N.jsxs)(Ve.a,{children:[ze(e),He(e),Object(N.jsx)(Ve.a.Item,{active:1===n,onClick:function(){return r(1)},children:"1"}),Me(e),Qe(e),Ye(e),Object(N.jsx)(Ve.a.Item,{active:t===n,onClick:function(){return r(t)},children:t}),Ze(e),Ke(e)]})}function $e(e){var t=e.className,n=e.currentPage,r=e.totalPages,a=e.pageChangeCallback;return Object(N.jsx)("div",{className:"paginator d-flex justify-content-center "+t,children:r<=3?Object(N.jsx)(Fe,{currentPage:n,totalPages:r,pageChangeCallback:a}):r<=5?Object(N.jsx)(Je,{currentPage:n,totalPages:r,pageChangeCallback:a}):Object(N.jsx)(Xe,{currentPage:n,totalPages:r,pageChangeCallback:a})})}function et(e){var t=e.className,n=e.cardsPerRow,r=e.totalRows,a=e.simplifiedArts,c=function(e,t,n){for(var r=[],a=0;a<t;a++){r[a]=[];for(var c=a*e,i=c;i<c+e;i++){var s=n[i];s&&r[a].push(s)}}return r}(n,r,a);return Object(N.jsx)("div",{className:"art-browser "+t,children:0===a.length?Object(N.jsx)("h4",{className:"text-muted",style:{textAlign:"center"},children:"Uh oh... There are no arts"}):c.map((function(e,t){return Object(N.jsx)(Ee.a,{children:e.map((function(e,t){return Object(N.jsx)(Ae.a,{className:"my-2",md:12/n,children:Object(N.jsx)(Te,{simplifiedArt:e})},t)}))},t)}))})}function tt(e){return nt.apply(this,arguments)}function nt(){return(nt=Object(l.a)(o.a.mark((function e(t){var n,r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URLSearchParams,Boolean(t)&&n.set("userId",t),e.next=4,fetch("/api/art/browse/artCount?".concat(n.toString()));case 4:return r=e.sent,e.next=7,r.json();case 7:return a=e.sent,e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rt(e,t,n){return at.apply(this,arguments)}function at(){return(at=Object(l.a)(o.a.mark((function e(t,n,r){var a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URLSearchParams,Boolean(r)&&a.set("userId",r),e.next=4,fetch("/api/art/browse/simplifiedArts/".concat(t,"/").concat(n,"?").concat(a.toString()));case 4:return c=e.sent,e.next=7,c.json();case 7:return i=e.sent,e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ct=function(e){return e.art.browse},it=function(e){return ct(e).artCount},st=function(e){return ct(e).simplifiedArts},ut=function(e){var t=function(e){return ct(e).getArtCountRequestStatus}(e),n=function(e){return ct(e).getSimplifiedArtsRequestStatus}(e);return"rejected"===t||"rejected"===n?"rejected":"fulfilled"===t&&"fulfilled"===n?"fulfilled":"pending"},ot=function(e){return ct(e).currentPage},lt=Object(d.b)("browse/getArtCount",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,tt(t);case 3:if(a=e.sent,c=a.success,i=a.payload,c){e.next=10;break}return e.abrupt("return",r());case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),dt=Object(d.b)("browse/getSimplifiedArts",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i,s,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.pageOffset,a=t.pageSize,c=t.userId,i=n.rejectWithValue,e.next=4,rt(r,a,c);case 4:if(s=e.sent,u=s.success,l=s.payload,u){e.next=11;break}return e.abrupt("return",i());case 11:return e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),jt=Object(d.b)("browse/loadResources",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i,s,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.pageOffset,a=t.pageSize,c=t.queriedPage,i=t.userId,s=n.getState,u=n.dispatch,-1!==it(s())){e.next=6;break}return e.next=6,u(lt(i));case 6:if(ot(s())!==c){e.next=10;break}return e.next=10,u(dt({pageOffset:r,pageSize:a,userId:i}));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),ft={artCount:-1,getArtCountRequestStatus:"idle",simplifiedArts:[],getSimplifiedArtsRequestStatus:"idle",currentPage:1},bt=Object(d.c)({name:"browse",initialState:ft,reducers:{reset:function(e,t){return Object(J.a)({},ft)},setCurrentPage:function(e,t){e.currentPage=t.payload}},extraReducers:function(e){e.addCase(lt.pending,(function(e,t){e.getArtCountRequestStatus="pending"})).addCase(lt.rejected,(function(e,t){e.getArtCountRequestStatus="rejected"})).addCase(lt.fulfilled,(function(e,t){e.getArtCountRequestStatus="fulfilled",e.artCount=t.payload})).addCase(dt.pending,(function(e,t){e.getSimplifiedArtsRequestStatus="pending"})).addCase(dt.rejected,(function(e,t){e.getSimplifiedArtsRequestStatus="rejected"})).addCase(dt.fulfilled,(function(e,t){e.getSimplifiedArtsRequestStatus="fulfilled",e.simplifiedArts=t.payload}))}}),pt=bt.actions,ht=pt.reset,xt=pt.setCurrentPage,Ot=bt.reducer;function gt(){var e=Object(s.b)(),t=H(),n=Object(V.k)(),a=Object(V.l)(),c=Object(s.c)(it),i=Object(s.c)(ot),u=Object(s.c)(st),o=function(e,t,n){var r=e*t;return Math.ceil(n/r)}(3,4,c),l=parseInt(t.get("page")),d=isNaN(l)||l<1||l>o?1:l;-1!==c&&d!==i&&e(xt(d));var j=t.get("userId"),f=function(){return e(jt({pageOffset:i-1,pageSize:12,queriedPage:d,userId:j}))},b=Object(s.c)(ut);return Object(r.useEffect)((function(){return function(){return e(ht())}}),[]),Object(r.useEffect)((function(){var e=f();return function(){return e.abort()}}),[i,j]),Object(N.jsx)("div",{className:"art-browse d-flex flex-column",style:{flex:1},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:"Art Browser"}),Object(N.jsx)("hr",{}),Object(N.jsx)(_,{initiateLoadingRequest:f,loadingRequestStatus:b,fulfilledComponent:function(){return Object(N.jsx)(B.a,{className:"mb-2",fluid:!0,children:Object(N.jsx)(et,{cardsPerRow:3,totalRows:4,simplifiedArts:u})})}}),Object(N.jsx)($e,{className:"mt-auto",currentPage:i,totalPages:o,pageChangeCallback:function(e){t.set("page",e),n.push(a.pathname+"?"+t.toString())}})]})})}var vt=n(113),mt=n(13),Ct=n.n(mt),wt=Ct.a.object({title:Ct.a.string().trim().min(1).max(30).required().messages({"string.empty":"Title is required.","string.min":"Title must be at least 1 characters long.","string.max":"Title must be less than or equal to 30 characters long."}),description:Ct.a.string().trim().min(1).max(100).required().messages({"string.empty":"Description is required.","string.min":"Description must be at least 1 characters long.","string.max":"Description must be less than or equal to 100 characters long."}),content:Ct.a.string().min(1).max(4e3).required().messages({"string.empty":"Content is required.","string.min":"Content must be at least 1 characters long.","string.max":"Content must be less than or equal to 4000 characters long."})});function yt(e){return kt.apply(this,arguments)}function kt(){return(kt=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/art/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Rt=Object(d.b)("create/postCreateArt",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,a=n.rejectWithValue,!(c=wt.validate(t,{abortEarly:!1})).error){e.next=8;break}return i=c.error.details.map((function(e){return{message:e.message,path:e.path}})),r(It(i)),e.abrupt("return",a());case 8:return r(It([])),e.next=11,yt(t);case 11:if(!(s=e.sent).success){e.next=16;break}return e.abrupt("return",s.payload);case 16:if(!s.error){e.next=21;break}if(!s.error.unauthenticated){e.next=20;break}return r(h()),e.abrupt("return",a("preventStateUpdates"));case 20:r(It([s.error]));case 21:return e.abrupt("return",a());case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),St={art:{title:"",description:"",content:""},responseArt:null,validationErrors:[],postCreateArtRequestStatus:"idle"},qt=Object(d.c)({name:"create",initialState:St,reducers:{reset:function(e,t){return Object(J.a)({},St)},resetArt:function(e,t){e.art=Object(J.a)({},St.art)},setTitle:function(e,t){e.art.title=t.payload},setDescription:function(e,t){e.art.description=t.payload},setContent:function(e,t){e.art.content=t.payload},setValidationErrors:function(e,t){e.validationErrors=t.payload}},extraReducers:function(e){e.addCase(Rt.pending,(function(e,t){e.postCreateArtRequestStatus="pending"})).addCase(Rt.rejected,(function(e,t){"preventStateUpdates"!==t.payload&&(e.postCreateArtRequestStatus="rejected")})).addCase(Rt.fulfilled,(function(e,t){e.responseArt=t.payload,e.postCreateArtRequestStatus="fulfilled"}))}}),Pt=qt.actions,Lt=Pt.reset,Nt=Pt.resetArt,Et=Pt.setTitle,At=Pt.setDescription,Tt=Pt.setContent,It=Pt.setValidationErrors,Vt=qt.reducer,Bt=function(e){return e.art.create},Ut=function(e){return Bt(e).art},Dt=function(e){return Ut(e).title},Ft=function(e){return Ut(e).description},Wt=function(e){return Ut(e).content},Gt=function(e){var t;return null===(t=function(e){return Bt(e).responseArt}(e))||void 0===t?void 0:t._id},_t=function(e){return Bt(e).postCreateArtRequestStatus},Jt=function(e){var t;return null===(t=Bt(e).validationErrors.filter((function(e){var t=e.path;return 1===t.length&&"title"===t[0]}))[0])||void 0===t?void 0:t.message},zt=function(e){var t;return null===(t=Bt(e).validationErrors.filter((function(e){var t=e.path;return 1===t.length&&"description"===t[0]}))[0])||void 0===t?void 0:t.message},Ht=function(e){var t;return null===(t=Bt(e).validationErrors.filter((function(e){var t=e.path;return 1===t.length&&"content"===t[0]}))[0])||void 0===t?void 0:t.message},Mt=function(e){var t;return null===(t=Bt(e).validationErrors.filter((function(e){var t=e.path;return 1===t.length&&"alert"===t[0]}))[0])||void 0===t?void 0:t.message};function Qt(){var e=Object(s.b)(),t=Object(s.c)(Ut),n=Object(s.c)(Dt),a=Object(s.c)(Ft),c=Object(s.c)(Wt),i=Object(s.c)(_t),u=Object(s.c)(Gt),o=Object(s.c)(Jt),l=Object(s.c)(zt),d=Object(s.c)(Ht),j=Object(s.c)(Mt);return Object(r.useEffect)((function(){return function(){return e(Lt())}}),[]),Object(N.jsxs)("div",{className:"art-create d-flex flex-column",style:{flex:1},children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{className:"mb-3",style:{textAlign:"center"},children:"Art Editor"}),Object(N.jsx)("hr",{})]}),Boolean(j)&&Object(N.jsx)(le.a,{variant:"danger",children:j}),Object(N.jsxs)(vt.a,{children:[Object(N.jsxs)(vt.a.Group,{controlId:"title",children:[Object(N.jsx)(vt.a.Label,{children:"Title"}),Object(N.jsx)(vt.a.Control,{type:"text",placeholder:"Title",value:n,isInvalid:Boolean(o),onChange:function(t){return e(Et(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:o})]}),Object(N.jsxs)(vt.a.Group,{controlId:"description",children:[Object(N.jsx)(vt.a.Label,{children:"Description"}),Object(N.jsx)(vt.a.Control,{type:"text",placeholder:"Description",value:a,isInvalid:Boolean(l),onChange:function(t){return e(At(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:l})]}),Object(N.jsxs)(vt.a.Group,{controlId:"content",children:[Object(N.jsx)(vt.a.Label,{children:"Content"}),Object(N.jsx)(vt.a.Control,{autoComplete:"off",as:"textarea",rows:3,placeholder:"Content",value:c,isInvalid:Boolean(d),onChange:function(t){return e(Tt(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:d})]})]}),Object(N.jsxs)("div",{className:"my-4 d-flex",children:[Object(N.jsx)(F.a,{variant:"primary",onClick:function(){return e(Nt())},children:"New"}),Object(N.jsx)(xe,{className:"ml-auto",initiateLoadingRequest:function(){return e(Rt(t))},loadingRequestStatus:i,idleText:"Create",redirectLink:"/art/open/".concat(u)})]})]})}function Yt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/art/open/art/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kt(e){return Xt.apply(this,arguments)}function Xt(){return(Xt=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/art/delete/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $t=Object(d.b)("open/getArt",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,Yt(t);case 3:if(a=e.sent,c=a.success,i=a.payload,c){e.next=10;break}return e.abrupt("return",r());case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),en=Object(d.b)("open/getDeleteArt",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.next=3,Kt(t);case 3:if(a=e.sent,c=a.success,i=a.payload,c){e.next=10;break}return e.abrupt("return",r());case 10:return e.abrupt("return",i);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),tn={art:{},getArtRequestStatus:"idle",getDeleteArtRequestStatus:"idle"},nn=Object(d.c)({name:"open",initialState:tn,reducers:{reset:function(e,t){return Object(J.a)({},tn)}},extraReducers:function(e){e.addCase($t.pending,(function(e,t){e.getArtRequestStatus="pending"})).addCase($t.rejected,(function(e,t){e.getArtRequestStatus="rejected"})).addCase($t.fulfilled,(function(e,t){e.getArtRequestStatus="fulfilled",e.art=t.payload})).addCase(en.pending,(function(e,t){e.getDeleteArtRequestStatus="pending"})).addCase(en.rejected,(function(e,t){e.getDeleteArtRequestStatus="rejected"})).addCase(en.fulfilled,(function(e,t){e.getDeleteArtRequestStatus="fulfilled"}))}}),rn=nn.actions.reset,an=nn.reducer,cn=function(e){return e.art.open},sn=function(e){return cn(e).art},un=function(e){return sn(e).creatorId},on=function(e){return sn(e).title},ln=function(e){return sn(e).description},dn=function(e){return sn(e).content},jn=function(e){return cn(e).getArtRequestStatus},fn=function(e){return cn(e).getDeleteArtRequestStatus};function bn(){var e=Object(s.b)(),t=Object(V.k)(),n=H(),a=Object(V.m)().artId,c=Object(s.c)(un),i=Object(s.c)(on),u=Object(s.c)(ln),o=Object(s.c)(dn),l=(Object(s.c)(m),Object(s.c)(w)===c),d=Object(s.c)(jn),j=function(){return e($t(a))},f=d,b=function(){return e(en(a))},p=Object(s.c)(fn);return Object(r.useEffect)((function(){return j(),function(){return e(rn())}}),[]),Object(N.jsx)("div",{className:"art-open d-flex flex-column",style:{flex:1},children:Object(N.jsx)(_,{initiateLoadingRequest:j,loadingRequestStatus:f,fulfilledComponent:function(){return Object(N.jsxs)("div",{style:{textAlign:"center"},children:[Object(N.jsx)("h2",{children:i}),Object(N.jsx)("hr",{}),u,Object(N.jsx)(D.a,{className:"my-2",children:Object(N.jsx)(D.a.Body,{style:{whiteSpace:"pre-line",fontFamily:"monospace"},children:o})}),Object(N.jsxs)("div",{className:"my-4 d-flex",children:[Object(N.jsx)(F.a,{className:"mr-2",variant:"success",onClick:function(){return t.push("/account/profile/".concat(c,"?").concat(n.toString()))},children:"Creator Profile"}),Object(N.jsx)(F.a,{variant:"secondary",onClick:function(){return navigator.clipboard.writeText(o)},children:"Copy"}),Object(N.jsxs)("div",{className:"ml-auto",children:[l&&Object(N.jsx)(xe,{className:"mr-2",idleText:"Delete",idleVariant:"danger",initiateLoadingRequest:b,loadingRequestStatus:p,redirectLink:"/art/browse?".concat(n.toString())}),Object(N.jsx)(F.a,{variant:"primary",onClick:function(){t.push("/art/browse?".concat(n.toString()))},children:"Back To Browse"})]})]})]})}})})}function pn(e){return hn.apply(this,arguments)}function hn(){return(hn=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xn=Ct.a.string().alphanum().trim().min(3).max(20).required().messages({"string.empty":"Username is required.","string.min":"Username must be at least 3 characters long.","string.max":"Username must be less than or equal to 20 characters long."}),On=Ct.a.string().email({tlds:{allow:!1}}).required().messages({"string.empty":"Email is required.","string.email":"Please enter a correct email."}),gn=Ct.a.string().min(10).max(100).required().messages({"string.empty":"Password is required.","string.min":"Password must be at least 10 characters long.","string.max":"Password must be less than or equal to 100 characters long."}),vn=Ct.a.string().required().messages({"string.empty":"reCaptcha is required."}),mn=Ct.a.object({email:On,password:gn}),Cn=Ct.a.object({user:mn,recaptchaToken:vn}),wn=Object(d.b)("login/postLoginUser",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,a=n.rejectWithValue,!(c=Cn.validate(t,{abortEarly:!1})).error){e.next=8;break}return i=c.error.details.map((function(e){return{message:e.message,path:e.path}})),r(Nn(i)),e.abrupt("return",a());case 8:return r(Nn([])),e.next=11,pn(t);case 11:if(!(s=e.sent).success){e.next=18;break}return e.next=15,r(b());case 15:return e.abrupt("return",s);case 18:if(!s.error.authenticated){e.next=22;break}return e.next=21,r(b());case 21:return e.abrupt("return",a("preventStateUpdates"));case 22:return s.error&&r(Nn([s.error])),e.abrupt("return",a());case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),yn={email:"",password:"",recaptchaToken:"",validationErrors:[],postLoginUserRequestStatus:"idle"},kn=Object(d.c)({name:"login",initialState:yn,reducers:{reset:function(e,t){return Object(J.a)({},yn)},setEmail:function(e,t){e.email=t.payload},setPassword:function(e,t){e.password=t.payload},setRecaptchaToken:function(e,t){e.recaptchaToken=t.payload},setValidationErrors:function(e,t){e.validationErrors=t.payload},setPostLoginUserRequestStatus:function(e,t){e.postLoginUserRequestStatus=t.payload}},extraReducers:function(e){e.addCase(wn.pending,(function(e,t){e.postLoginUserRequestStatus="pending"})).addCase(wn.rejected,(function(e,t){"preventStateUpdates"!==t.payload&&(e.postLoginUserRequestStatus="rejected")})).addCase(wn.fulfilled,(function(e,t){e.postLoginUserRequestStatus="fulfilled"}))}}),Rn=kn.actions,Sn=Rn.reset,qn=Rn.setEmail,Pn=Rn.setPassword,Ln=Rn.setRecaptchaToken,Nn=Rn.setValidationErrors,En=kn.reducer,An=function(e){return e.authentication.login},Tn=function(e){return An(e).email},In=function(e){return An(e).password},Vn=function(e){return An(e).recaptchaToken},Bn=function(e){return An(e).postLoginUserRequestStatus},Un=function(e){var t;return null===(t=An(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"email"===t[1]}))[0])||void 0===t?void 0:t.message},Dn=function(e){var t;return null===(t=An(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"password"===t[1]}))[0])||void 0===t?void 0:t.message},Fn=function(e){var t;return null===(t=An(e).validationErrors.filter((function(e){var t=e.path;return 1==t.length&&"recaptchaToken"===t[0]}))[0])||void 0===t?void 0:t.message},Wn="6Lfvwf8aAAAAAGfNx8ZjRBw3wawxBMmDTkdttG6g",Gn=n(46);function _n(){var e=Object(s.b)(),t=H(),n=t.get("redirect"),a=Boolean(n);a&&t.delete("redirect");var c=a?"".concat(n,"?").concat(t.toString()):"",i=Object(s.c)(Tn),u=Object(s.c)(In),o=Object(s.c)(Vn),l=Object(s.c)(Un),d=Object(s.c)(Dn),j=Object(s.c)(Fn),f=Object(s.c)(Bn);return Object(r.useEffect)((function(){return function(){return e(Sn())}}),[]),Object(N.jsx)("div",{className:"authentication-login d-flex flex-column",style:{flex:1},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:"Login"}),Object(N.jsx)("hr",{}),Object(N.jsxs)(vt.a,{children:[Object(N.jsxs)(vt.a.Group,{controlId:"email",children:[Object(N.jsx)(vt.a.Label,{children:"Email"}),Object(N.jsx)(vt.a.Control,{type:"email",value:i,isInvalid:Boolean(l),onChange:function(t){return e(qn(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:l})]}),Object(N.jsxs)(vt.a.Group,{controlId:"password",children:[Object(N.jsx)(vt.a.Label,{children:"Password"}),Object(N.jsx)(vt.a.Control,{type:"password",value:u,isInvalid:Boolean(d),onChange:function(t){return e(Pn(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:d}),Object(N.jsx)(L.LinkContainer,{to:"/authentication/recoverpassword",children:Object(N.jsx)("a",{className:"text-muted text-decoration-none",children:Object(N.jsx)(vt.a.Text,{children:"Forgot Password?"})})})]})]}),Object(N.jsx)(Gn.a,{sitekey:Wn,onChange:function(t){return e(Ln(t))}}),Object(N.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:j}),Object(N.jsx)("div",{className:"mt-3 d-flex",children:Object(N.jsx)(xe,{initiateLoadingRequest:function(){return e(wn({user:{email:i,password:u},recaptchaToken:o}))},loadingRequestStatus:f,idleText:"Login",redirectLink:a?c:"/account/dashboard"})})]})})}function Jn(e){return zn.apply(this,arguments)}function zn(){return(zn=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Hn=Ct.a.object({username:xn,email:On,password:gn}),Mn=Ct.a.object({user:Hn,recaptchaToken:vn}),Qn=Object(d.b)("register/postRegisterUser",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,a=n.rejectWithValue,!(c=Mn.validate(t,{abortEarly:!1})).error){e.next=8;break}return i=c.error.details.map((function(e){return{message:e.message,path:e.path}})),r(rr(i)),e.abrupt("return",a());case 8:return r(rr([])),e.next=11,Jn(t);case 11:if(!(s=e.sent).success){e.next=18;break}return e.next=15,r(b());case 15:return e.abrupt("return",s);case 18:if(!s.error.authenticated){e.next=22;break}return e.next=21,r(b());case 21:return e.abrupt("return",a("preventStateUpdates"));case 22:return s.error&&r(rr([s.error])),e.abrupt("return",a());case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Yn={username:"",email:"",password:"",recaptchaToken:"",postRegisterUserRequestStatus:"idle",validationErrors:[]},Zn=Object(d.c)({name:"register",initialState:Yn,reducers:{reset:function(e,t){return Object(J.a)({},Yn)},setUsername:function(e,t){e.username=t.payload},setEmail:function(e,t){e.email=t.payload},setPassword:function(e,t){e.password=t.payload},setRecaptchaToken:function(e,t){e.recaptchaToken=t.payload},setValidationErrors:function(e,t){e.validationErrors=t.payload}},extraReducers:function(e){e.addCase(Qn.pending,(function(e,t){e.postRegisterUserRequestStatus="pending"})).addCase(Qn.rejected,(function(e,t){"preventStateUpdates"!==t.payload&&(e.postRegisterUserRequestStatus="rejected")})).addCase(Qn.fulfilled,(function(e,t){e.postRegisterUserRequestStatus="fulfilled"}))}}),Kn=Zn.actions,Xn=Kn.reset,$n=Kn.setUsername,er=Kn.setEmail,tr=Kn.setPassword,nr=Kn.setRecaptchaToken,rr=Kn.setValidationErrors,ar=Zn.reducer,cr=function(e){return e.authentication.register},ir=function(e){return cr(e).username},sr=function(e){return cr(e).email},ur=function(e){return cr(e).password},or=function(e){return cr(e).recaptchaToken},lr=function(e){return cr(e).postRegisterUserRequestStatus},dr=function(e){var t;return null===(t=cr(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"username"===t[1]}))[0])||void 0===t?void 0:t.message},jr=function(e){var t;return null===(t=cr(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"email"===t[1]}))[0])||void 0===t?void 0:t.message},fr=function(e){var t;return null===(t=cr(e).validationErrors.filter((function(e){var t=e.path;return 2==t.length&&"user"===t[0]&&"password"===t[1]}))[0])||void 0===t?void 0:t.message},br=function(e){var t;return null===(t=cr(e).validationErrors.filter((function(e){var t=e.path;return 1==t.length&&"recaptchaToken"===t[0]}))[0])||void 0===t?void 0:t.message};function pr(){var e=Object(s.b)(),t=Object(s.c)(ir),n=Object(s.c)(sr),a=Object(s.c)(ur),c=Object(s.c)(or),i=Object(s.c)(dr),u=Object(s.c)(jr),o=Object(s.c)(fr),l=Object(s.c)(br),d=Object(s.c)(lr);return Object(r.useEffect)((function(){return function(){return e(Xn())}}),[]),Object(N.jsx)("div",{className:"authentication-register d-flex flex-column",style:{flex:1},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:"Register"}),Object(N.jsx)("hr",{}),Object(N.jsxs)(vt.a,{children:[Object(N.jsxs)(vt.a.Group,{controlId:"username",children:[Object(N.jsx)(vt.a.Label,{children:"Username"}),Object(N.jsx)(vt.a.Control,{type:"text",value:t,isInvalid:Boolean(i),onChange:function(t){return e($n(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:i})]}),Object(N.jsxs)(vt.a.Group,{controlId:"email",children:[Object(N.jsx)(vt.a.Label,{children:"Email"}),Object(N.jsx)(vt.a.Control,{type:"email",value:n,isInvalid:Boolean(u),onChange:function(t){return e(er(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:u})]}),Object(N.jsxs)(vt.a.Group,{controlId:"password",children:[Object(N.jsx)(vt.a.Label,{children:"Password"}),Object(N.jsx)(vt.a.Control,{type:"password",value:a,isInvalid:Boolean(o),onChange:function(t){return e(tr(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:o})]})]}),Object(N.jsx)(Gn.a,{sitekey:Wn,onChange:function(t){return e(nr(t))}}),Object(N.jsx)("div",{className:"invalid-feedback",style:{display:"block"},children:l}),Object(N.jsx)("div",{className:"mt-3 d-flex",children:Object(N.jsx)(xe,{initiateLoadingRequest:function(){return e(Qn({user:{username:t,email:n,password:a},recaptchaToken:c}))},loadingRequestStatus:d,idleText:"Register",redirectLink:"/authentication/login"})})]})})}function hr(e){return xr.apply(this,arguments)}function xr(){return(xr=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/emailverification/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Or=Object(d.b)("authenticationEmailVerification/getEmailVerification",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.dispatch,a=n.rejectWithValue,e.next=3,hr(t);case 3:if(!(c=e.sent).success){e.next=8;break}return e.abrupt("return",!0);case 8:return c.error&&r(wr([c.error])),e.abrupt("return",a());case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),gr={getEmailVerificationRequestStatus:"idle",errors:[]},vr=Object(d.c)({name:"emailVerification",initialState:gr,reducers:{reset:function(e,t){return Object(J.a)({},gr)},setErrors:function(e,t){e.errors=t.payload}},extraReducers:function(e){e.addCase(Or.pending,(function(e,t){e.getEmailVerificationRequestStatus="pending"})).addCase(Or.rejected,(function(e,t){e.getEmailVerificationRequestStatus="rejected"})).addCase(Or.fulfilled,(function(e,t){e.getEmailVerificationRequestStatus="fulfilled"}))}}),mr=vr.actions,Cr=mr.reset,wr=mr.setErrors,yr=vr.reducer,kr=function(e){return e.authentication.emailVerification},Rr=function(e){return kr(e).getEmailVerificationRequestStatus},Sr=function(e){var t;return null===(t=kr(e).errors.filter((function(e){var t=e.path;return 1===t.length&&"alert"===t[0]}))[0])||void 0===t?void 0:t.message};function qr(){var e=Object(s.b)(),t=Object(V.m)().token,n=Object(V.k)(),a=Object(s.c)(Sr),c=Object(s.c)(m),i=function(){return e(Or(t))},u=Object(s.c)(Rr);return Object(r.useEffect)((function(){return i(),function(){return e(Cr())}}),[]),Object(N.jsx)("div",{className:"authentication-emailVerification d-flex flex-column",style:{flex:1},children:Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:"Email Verification"}),Object(N.jsx)("hr",{}),Boolean(a)&&Object(N.jsx)(le.a,{variant:"danger",children:a}),!Boolean(a)&&Object(N.jsx)(_,{initiateLoadingRequest:i,loadingRequestStatus:u,fulfilledComponent:function(){return Object(N.jsx)(le.a,{variant:"success",children:"Your email has been successfully verified and your rank has been updated!"})}}),c?Object(N.jsx)(F.a,{onClick:function(){e(b()),n.push("/account/dashboard")},className:"mt-2",variant:"success",children:"Dashboard"}):Object(N.jsx)(F.a,{onClick:function(){n.push("/authentication/login")},className:"mt-2",variant:"success",children:"Login"})]})})}function Pr(e){return Lr.apply(this,arguments)}function Lr(){return(Lr=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/recoverpassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Nr=Ct.a.object({email:On}),Er=Object(d.b)("recoverPassword/postRecoverPassword",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,a=n.rejectWithValue,!(c=Nr.validate(t,{abortEarly:!1})).error){e.next=8;break}return i=c.error.details.map((function(e){return{message:e.message,path:e.path}})),r(Ur(i)),e.abrupt("return",a());case 8:return e.next=10,Pr(t);case 10:if(!(s=e.sent).success){e.next=16;break}return r(Ur([])),e.abrupt("return",s);case 16:return s.error&&r(Ur([s.error])),e.abrupt("return",a());case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ar={email:"",validationErrors:[],postRecoverPasswordRequestStatus:"idle"},Tr=Object(d.c)({name:"recoverPassword",initialState:Ar,reducers:{reset:function(e,t){return Object(J.a)({},Ar)},setEmail:function(e,t){e.email=t.payload},setValidationErrors:function(e,t){e.validationErrors=t.payload}},extraReducers:function(e){e.addCase(Er.pending,(function(e,t){e.postRecoverPasswordRequestStatus="pending"})).addCase(Er.rejected,(function(e,t){e.postRecoverPasswordRequestStatus="rejected"})).addCase(Er.fulfilled,(function(e,t){e.postRecoverPasswordRequestStatus="fulfilled"}))}}),Ir=Tr.actions,Vr=Ir.reset,Br=Ir.setEmail,Ur=Ir.setValidationErrors,Dr=Tr.reducer,Fr=function(e){return e.authentication.recoverPassword},Wr=function(e){return Fr(e).email},Gr=function(e){return Fr(e).postRecoverPasswordRequestStatus},_r=function(e){var t;return null===(t=Fr(e).validationErrors.filter((function(e){var t=e.path;return 1==t.length&&"email"===t[0]}))[0])||void 0===t?void 0:t.message},Jr=function(e){var t;return null===(t=Fr(e).validationErrors.filter((function(e){var t=e.path;return 1==t.length&&"alert"===t[0]}))[0])||void 0===t?void 0:t.message};function zr(){var e=Object(s.b)(),t=Object(s.c)(Wr),n=Object(s.c)(_r),a=Object(s.c)(Jr),c=Object(s.c)(Gr);return Object(r.useEffect)((function(){return function(){return e(Vr())}}),[]),Object(N.jsxs)("div",{className:"authentication-recoverpassword d-flex flex-column",style:{flex:1},children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:"Recover Password"}),Object(N.jsx)("hr",{}),Boolean(a)&&Object(N.jsx)(le.a,{variant:"danger",children:a})]}),Object(N.jsx)(vt.a,{children:Object(N.jsxs)(vt.a.Group,{controlId:"email",children:[Object(N.jsx)(vt.a.Label,{children:"Email"}),Object(N.jsx)(vt.a.Control,{type:"email",value:t,isInvalid:Boolean(n),onChange:function(t){return e(Br(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:n})]})}),Object(N.jsx)("div",{children:Object(N.jsx)(be,{initiateLoadingRequest:function(){return e(Er({email:t}))},loadingRequestStatus:c,idleText:"Send Recovery Email"})})]})}function Hr(e){return Mr.apply(this,arguments)}function Mr(){return(Mr=Object(l.a)(o.a.mark((function e(t){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/authentication/newpassword",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Qr=Ct.a.object({_id:Ct.a.string().required(),token:Ct.a.string().guid().required(),password:gn}),Yr=Object(d.b)("newPassword/postNewPassword",function(){var e=Object(l.a)(o.a.mark((function e(t,n){var r,a,c,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.dispatch,a=n.rejectWithValue,!(c=Qr.validate(t,{abortEarly:!1})).error){e.next=8;break}return i=c.error.details.map((function(e){return{message:e.message,path:e.path}})),r(ta(i)),e.abrupt("return",a());case 8:return r(ta([])),e.next=11,Hr(t);case 11:if(!(s=e.sent).success){e.next=16;break}return e.abrupt("return",s);case 16:return s.error&&r(ta([s.error])),e.abrupt("return",a());case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Zr={password:"",postNewPasswordRequestStatus:"idle",validationErrors:[]},Kr=Object(d.c)({name:"newPassword",initialState:Zr,reducers:{reset:function(e,t){return Object(J.a)({},Zr)},setPassword:function(e,t){e.password=t.payload},setValidationErrors:function(e,t){e.validationErrors=t.payload}},extraReducers:function(e){e.addCase(Yr.pending,(function(e,t){e.postNewPasswordRequestStatus="pending"})).addCase(Yr.rejected,(function(e,t){e.postNewPasswordRequestStatus="rejected"})).addCase(Yr.fulfilled,(function(e,t){e.postNewPasswordRequestStatus="fulfilled"}))}}),Xr=Kr.actions,$r=Xr.reset,ea=Xr.setPassword,ta=Xr.setValidationErrors,na=Kr.reducer,ra=function(e){return e.authentication.newPassword},aa=function(e){return ra(e).password},ca=function(e){return ra(e).postNewPasswordRequestStatus},ia=function(e){var t;return null===(t=ra(e).validationErrors.filter((function(e){var t=e.path;return 1==t.length&&"password"===t[0]}))[0])||void 0===t?void 0:t.message},sa=function(e){var t;return null===(t=ra(e).validationErrors.filter((function(e){var t=e.path;return 1==t.length&&"alert"===t[0]}))[0])||void 0===t?void 0:t.message};function ua(){var e=Object(s.b)(),t=Object(V.m)(),n=t._id,a=t.token,c=Object(s.c)(aa),i=Object(s.c)(ia),u=Object(s.c)(sa),o=Object(s.c)(ca);return Object(r.useEffect)((function(){return function(){return e($r())}}),[]),Object(N.jsxs)("div",{className:"authentication-newpassword d-flex flex-column",style:{flex:1},children:[Object(N.jsxs)("div",{children:[Object(N.jsx)("h2",{style:{textAlign:"center"},children:"New Password"}),Object(N.jsx)("hr",{}),Boolean(u)&&Object(N.jsx)(le.a,{variant:"danger",children:u})]}),Object(N.jsx)(vt.a,{children:Object(N.jsxs)(vt.a.Group,{controlId:"password",children:[Object(N.jsx)(vt.a.Label,{children:"New Password"}),Object(N.jsx)(vt.a.Control,{type:"password",value:c,isInvalid:Boolean(i),onChange:function(t){return e(ea(t.target.value))}}),Object(N.jsx)(vt.a.Control.Feedback,{type:"invalid",children:i})]})}),Object(N.jsx)("div",{children:Object(N.jsx)(xe,{initiateLoadingRequest:function(){return e(Yr({_id:n,token:a,password:c}))},loadingRequestStatus:o,idleText:"Set Password",redirectLink:"/authentication/login"})})]})}function oa(){var e=Object(s.c)(m);return[Object(N.jsx)(V.d,{exact:!0,path:"/authentication/login",children:e?Object(N.jsx)(V.c,{exact:!0,to:"/account/dashboard"}):Object(N.jsx)(_n,{})},"/authentication/login"),Object(N.jsx)(V.d,{exact:!0,path:"/authentication/register",children:e?Object(N.jsx)(V.c,{exact:!0,to:"/account/dashboard"}):Object(N.jsx)(pr,{})},"/authentication/register"),Object(N.jsx)(V.d,{exact:!0,path:"/authentication/emailverification/:token",children:Object(N.jsx)(qr,{})},"/authentication/emailverification/:token"),Object(N.jsx)(V.d,{exact:!0,path:"/authentication/recoverpassword",children:Object(N.jsx)(zr,{})},"/authentication/recoverpassword"),Object(N.jsx)(V.d,{exact:!0,path:"/authentication/newpassword/:_id/:token",children:Object(N.jsx)(ua,{})},"/authentication/newpassword/:_id/:token")]}var la=function(){var e=O(Object(s.b)()),t=Object(s.c)(I);return Object(N.jsx)("div",{className:"main d-flex flex-column",style:{flex:1},children:Object(N.jsx)(B.a,{className:"my-3 d-flex flex-column",style:{flex:1},children:Object(N.jsx)(_,{initiateLoadingRequest:e,loadingRequestStatus:t,fulfilledComponent:function(){return Object(N.jsxs)(V.g,{children:[[Object(N.jsx)(M,{exact:!0,path:"/account/dashboard",children:Object(N.jsx)(Oe,{})},"/account/dashboard"),Object(N.jsx)(V.d,{exact:!0,path:"/account/profile/:userId",children:Object(N.jsx)(Ie,{})},"/account/profile")],[Object(N.jsx)(V.d,{exact:!0,path:"/art/browse",children:Object(N.jsx)(gt,{})},"/art/browse"),Object(N.jsx)(M,{exact:!0,path:"/art/create",children:Object(N.jsx)(Qt,{})},"/art/create"),Object(N.jsx)(V.d,{exact:!0,path:"/art/open/:artId",children:Object(N.jsx)(bn,{})},"/art/open")],oa()]})}})})})};n(101);function da(){return Object(N.jsx)("div",{className:"footer pbc p-3",children:Object(N.jsxs)(B.a,{fluid:!0,children:[Object(N.jsxs)(Ee.a,{style:{textAlign:"center"},children:[Object(N.jsxs)(Ae.a,{md:!0,children:[Object(N.jsx)("h5",{children:"ASCII-CRAFT"}),Object(N.jsxs)("div",{className:"d-flex flex-column",children:[Object(N.jsx)("div",{children:Object(N.jsx)("a",{className:"px-2",href:"#",children:"Contact us"})}),Object(N.jsx)("div",{children:Object(N.jsx)("a",{href:"#",children:"Privacy Policy"})}),Object(N.jsx)("div",{children:Object(N.jsx)("a",{href:"#",children:"Terms of Service"})})]})]}),Object(N.jsxs)(Ae.a,{md:!0,children:[Object(N.jsx)("h5",{children:"HELP"}),Object(N.jsx)("div",{className:"d-flex flex-column",children:Object(N.jsx)("div",{children:Object(N.jsx)("a",{href:"#",children:"FAQ"})})})]})]}),Object(N.jsx)("hr",{}),Object(N.jsx)("small",{children:"Please respect ASCII artists and do not remove their signature while sharing their art."})]})})}n(102),n(103);function ja(){var e=O(Object(s.b)());return Object(r.useEffect)((function(){return e()})),Object(N.jsxs)("div",{className:"app d-flex flex-column",style:{minHeight:"100vh"},children:[Object(N.jsx)(T,{}),Object(N.jsx)(la,{}),Object(N.jsx)(da,{})]})}var fa=n(17),ba=n(29),pa=Object(ba.b)({create:Vt,browse:Ot,open:an}),ha=Object(ba.b)({register:ar,login:En,emailVerification:yr,recoverPassword:Dr,newPassword:na}),xa=Object(ba.b)({dashboard:ce,profile:ke}),Oa=Object(d.a)({reducer:{art:pa,authentication:ha,account:xa,authenticated:x}});i.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(s.a,{store:Oa,children:Object(N.jsx)(fa.BrowserRouter,{children:Object(N.jsx)(ja,{})})})}),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.7225cc76.chunk.js.map